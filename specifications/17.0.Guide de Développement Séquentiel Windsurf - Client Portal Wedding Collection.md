# Guide de Développement Séquentiel Windsurf - Client Portal Wedding Collection

**Version:** 1.0  
**Date:** 6 décembre 2025  
**Auteur:** Manus AI - Expert Windsurf  
**Statut:** Guide de Développement Complet

---

## Table des Matières

1. [Introduction et Méthodologie](#1-introduction-et-méthodologie)
2. [Phase 1 : Fondations et Infrastructure](#2-phase-1--fondations-et-infrastructure)
3. [Phase 2 : Modules Prioritaires](#3-phase-2--modules-prioritaires)
4. [Phase 3 : Modules Complémentaires](#4-phase-3--modules-complémentaires)
5. [Phase 4 : Modules Avancés et Écosystème](#5-phase-4--modules-avancés-et-écosystème)
6. [Validation et Intégration Globale](#6-validation-et-intégration-globale)
7. [Optimisation et Déploiement](#7-optimisation-et-déploiement)

---

## 1. Introduction et Méthodologie

Ce guide de développement séquentiel a été conçu spécifiquement pour Windsurf, l'agent de développement IA, afin de créer l'application Client Portal de l'ERP Wedding Collection de manière structurée et optimisée. L'approche adoptée suit une logique de construction progressive, permettant de valider l'architecture et les choix techniques à chaque étape tout en livrant de la valeur fonctionnelle de manière continue.

Le Client Portal représente une application frontend complète destinée aux clients finaux (couples) de Wedding Collection. Cette application doit s'intégrer harmonieusement avec l'écosystème ERP existant, partageant la même base de données Supabase que le Backoffice tout en maintenant une séparation claire des responsabilités et des droits d'accès.

### 1.1 Principes Directeurs

L'architecture du Client Portal repose sur plusieurs principes fondamentaux qui guident chaque décision de développement. La cohérence avec l'écosystème existant est primordiale, nécessitant l'utilisation des mêmes technologies et patterns que le Backoffice pour faciliter la maintenance et le partage de composants. La sécurité est intégrée dès la conception avec des politiques RLS strictes garantissant que chaque client n'accède qu'à ses propres données. L'expérience utilisateur est optimisée pour les clients finaux, avec une interface intuitive et responsive adaptée à tous les appareils.

### 1.2 Structure du Guide

Ce guide est organisé en quatre phases de développement correspondant à l'approche séquentielle définie. Chaque phase contient des prompts Windsurf détaillés, structurés selon la méthodologie éprouvée avec les composantes 🎯 But, 🧠 Contexte, 🛠️ Fichiers, 🔄 Comportement, ⚙️ Intégrations, et 💡 Tips Windsurf. Les prompts sont ordonnés par priorité et dépendances techniques, permettant un développement fluide et efficace.

### 1.3 Conventions Techniques

Le développement suit strictement les conventions établies pour l'ERP Wedding Collection, utilisant React avec TypeScript, Vite comme outil de build, Tailwind CSS pour le stylisme, et Supabase pour le backend. L'application est intégrée dans le monorepo existant sous `apps/client-portal/`, respectant la structure et les configurations standardisées.

---

## 2. Phase 1 : Fondations et Infrastructure

La première phase établit les fondations techniques indispensables au développement de l'application. Cette phase critique détermine l'architecture globale et les patterns qui seront utilisés tout au long du projet. L'objectif est de créer une base solide permettant le développement efficace des modules fonctionnels dans les phases suivantes.

### 2.1 Initialisation de l'Application

#### Prompt 1.1 : Configuration de l'Application Client Portal

🎯 **But** : Créer et configurer l'application Client Portal dans le monorepo avec toutes les dépendances et configurations nécessaires.

🧠 **Contexte** : L'application Client Portal doit être intégrée dans le monorepo existant sous `apps/client-portal/` en respectant la structure et les conventions établies. Elle partage les mêmes technologies que le Backoffice (React, TypeScript, Vite, Tailwind CSS, Supabase) pour maintenir la cohérence architecturale.

🛠️ **Fichiers concernés** :
- `apps/client-portal/package.json`
- `apps/client-portal/vite.config.ts`
- `apps/client-portal/tailwind.config.js`
- `apps/client-portal/postcss.config.cjs`
- `apps/client-portal/tsconfig.json`
- `apps/client-portal/tsconfig.node.json`
- `apps/client-portal/index.html`

🔄 **Comportement attendu** : Créer une nouvelle application React avec TypeScript dans le dossier `apps/client-portal/`. Configurer Vite avec le port 5174 (différent du Backoffice qui utilise 5173). Installer et configurer Tailwind CSS avec ShadCN UI. Configurer les alias de chemin (`@/` pointant vers `src/`). Installer les dépendances spécifiques : React Router DOM, React Query, Lucide React, date-fns, et les packages Supabase nécessaires.

⚙️ **Intégrations** : Configuration partagée avec le monorepo, réutilisation des configurations Tailwind et TypeScript de base, préparation pour l'intégration Supabase.

💡 **Tips Windsurf** : Utilise la commande `npm create vite@latest client-portal -- --template react-ts` dans le dossier `apps/` puis adapte la configuration. Assure-toi que le port 5174 est libre et configure les scripts npm pour le développement et la build. Vérifie que les alias de chemin fonctionnent correctement avant de passer au prompt suivant.

#### Prompt 1.2 : Structure des Dossiers et Architecture de Base

🎯 **But** : Établir la structure de dossiers standardisée et créer l'architecture de base de l'application.

🧠 **Contexte** : La structure de dossiers doit suivre les conventions établies dans l'ERP Wedding Collection tout en s'adaptant aux spécificités du Client Portal. L'organisation modulaire facilite le développement parallèle et la maintenance future.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/` (structure complète)
- `apps/client-portal/src/components/`
- `apps/client-portal/src/pages/`
- `apps/client-portal/src/hooks/`
- `apps/client-portal/src/contexts/`
- `apps/client-portal/src/services/`
- `apps/client-portal/src/lib/`
- `apps/client-portal/src/types/`

🔄 **Comportement attendu** : Créer la structure de dossiers complète avec les répertoires principaux : `components/` pour les composants réutilisables, `pages/` pour les pages de l'application, `hooks/` pour les hooks personnalisés, `contexts/` pour la gestion d'état global, `services/` pour la logique métier et les appels API, `lib/` pour les utilitaires et clients, `types/` pour les définitions TypeScript. Créer les sous-dossiers spécialisés : `components/ui/` pour les composants ShadCN, `components/layout/` pour les composants de mise en page, `components/auth/` pour l'authentification.

⚙️ **Intégrations** : Préparation pour l'intégration des modules futurs, structure compatible avec les patterns du Backoffice.

💡 **Tips Windsurf** : Crée des fichiers `index.ts` dans chaque dossier principal pour faciliter les imports. Utilise une convention de nommage cohérente (PascalCase pour les composants, camelCase pour les utilitaires). Prépare des dossiers spécifiques pour chaque module futur (documents, budget, planning, etc.).

#### Prompt 1.3 : Configuration Supabase et Client de Base

🎯 **But** : Configurer l'intégration Supabase et créer le client de base pour l'authentification et les requêtes.

🧠 **Contexte** : Le Client Portal partage la même instance Supabase que le Backoffice mais avec des politiques RLS spécifiques pour sécuriser l'accès aux données. La configuration doit permettre l'authentification des clients et l'accès sécurisé aux données.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/lib/supabase.ts`
- `apps/client-portal/src/types/database.ts`
- `apps/client-portal/src/services/auth.ts`
- `apps/client-portal/.env.local`

🔄 **Comportement attendu** : Créer le client Supabase avec les variables d'environnement appropriées. Configurer les types TypeScript pour la base de données en réutilisant ceux du Backoffice si possible. Créer le service d'authentification avec les méthodes de connexion, déconnexion, et récupération de session. Implémenter la gestion des erreurs et des états de chargement.

⚙️ **Intégrations** : Connexion à la base de données partagée, préparation pour les politiques RLS spécifiques aux clients.

💡 **Tips Windsurf** : Utilise les mêmes variables d'environnement que le Backoffice mais avec des noms spécifiques (VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY). Assure-toi que les types de base de données sont synchronisés. Teste la connexion Supabase avant de continuer.

### 2.2 Authentification et Gestion des Utilisateurs

#### Prompt 1.4 : Système d'Authentification Complet

🎯 **But** : Implémenter le système d'authentification complet avec connexion, déconnexion, récupération de mot de passe et gestion de session.

🧠 **Contexte** : L'authentification du Client Portal doit permettre aux clients créés depuis le Backoffice de se connecter avec leurs identifiants. Le système doit gérer l'activation de compte, la récupération de mot de passe, et maintenir la session utilisateur de manière sécurisée.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/components/auth/LoginForm.tsx`
- `apps/client-portal/src/components/auth/ForgotPasswordForm.tsx`
- `apps/client-portal/src/components/auth/ResetPasswordForm.tsx`
- `apps/client-portal/src/pages/auth/LoginPage.tsx`
- `apps/client-portal/src/contexts/AuthContext.tsx`
- `apps/client-portal/src/hooks/useAuth.ts`

🔄 **Comportement attendu** : Créer les composants de formulaire d'authentification avec validation des champs et gestion des erreurs. Implémenter le contexte d'authentification pour gérer l'état global de l'utilisateur connecté. Créer les hooks personnalisés pour l'authentification. Gérer les redirections après connexion et les routes protégées. Implémenter la persistance de session et la déconnexion automatique en cas d'expiration.

⚙️ **Intégrations** : Intégration avec Supabase Auth, synchronisation avec les données utilisateur du Backoffice.

💡 **Tips Windsurf** : Utilise React Hook Form pour la validation des formulaires. Implémente un système de toast pour les notifications d'erreur et de succès. Assure-toi que les redirections fonctionnent correctement avec React Router. Teste tous les scénarios d'authentification (connexion réussie, échec, récupération de mot de passe).

### 2.3 Layout et Navigation Globale

#### Prompt 1.5 : Layout Principal et Sidebar Dynamique

🎯 **But** : Créer le layout principal de l'application avec une sidebar dynamique et une navigation responsive.

🧠 **Contexte** : Le layout principal doit offrir une navigation intuitive et cohérente à travers tous les modules du Client Portal. La sidebar doit s'adapter aux modules disponibles et aux permissions de l'utilisateur, tout en restant responsive sur tous les appareils.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/components/layout/MainLayout.tsx`
- `apps/client-portal/src/components/layout/Sidebar.tsx`
- `apps/client-portal/src/components/layout/Header.tsx`
- `apps/client-portal/src/components/layout/MobileNav.tsx`
- `apps/client-portal/src/components/ui/Navigation.tsx`

🔄 **Comportement attendu** : Créer un layout principal avec header fixe, sidebar collapsible, et zone de contenu principale. Implémenter une sidebar dynamique qui affiche les modules disponibles avec icônes et badges de notification. Créer une navigation mobile avec menu hamburger pour les petits écrans. Gérer l'état d'ouverture/fermeture de la sidebar avec persistance locale. Implémenter les indicateurs visuels pour la page active et les notifications.

⚙️ **Intégrations** : Intégration avec le système d'authentification pour afficher les informations utilisateur, préparation pour les modules futurs.

💡 **Tips Windsurf** : Utilise les composants ShadCN UI pour la cohérence visuelle. Implémente un système de breakpoints responsive avec Tailwind CSS. Assure-toi que la navigation fonctionne correctement sur mobile et desktop. Prépare des slots pour les badges de notification et les indicateurs d'état.

#### Prompt 1.6 : Système de Routing et Pages de Base

🎯 **But** : Configurer le système de routing avec React Router et créer les pages de base de l'application.

🧠 **Contexte** : Le système de routing doit gérer les routes publiques (authentification) et privées (application), avec des redirections appropriées selon l'état d'authentification. Les pages de base incluent le dashboard, les pages d'erreur, et les pages de chargement.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/App.tsx`
- `apps/client-portal/src/router/index.tsx`
- `apps/client-portal/src/pages/Dashboard.tsx`
- `apps/client-portal/src/pages/NotFound.tsx`
- `apps/client-portal/src/components/common/LoadingSpinner.tsx`
- `apps/client-portal/src/components/common/ErrorBoundary.tsx`

🔄 **Comportement attendu** : Configurer React Router avec les routes publiques et privées. Créer un composant de route protégée qui vérifie l'authentification. Implémenter le dashboard principal avec vue d'ensemble du projet client. Créer les pages d'erreur (404, 500) et les composants de chargement. Gérer les redirections automatiques selon l'état d'authentification.

⚙️ **Intégrations** : Intégration avec le contexte d'authentification, préparation pour les routes des modules futurs.

💡 **Tips Windsurf** : Utilise React Router v6 avec les nouvelles APIs. Implémente un système de lazy loading pour les pages. Assure-toi que les redirections fonctionnent correctement après connexion/déconnexion. Teste la navigation avec l'historique du navigateur.

### 2.4 Dashboard et Vue d'Ensemble

#### Prompt 1.7 : Dashboard Principal et Widgets de Base

🎯 **But** : Créer le dashboard principal avec les widgets de vue d'ensemble du projet client.

🧠 **Contexte** : Le dashboard est la page d'accueil du Client Portal, offrant une vue synthétique de l'état d'avancement du projet de mariage. Il doit afficher les informations clés, les prochaines échéances, et les accès rapides aux fonctionnalités principales.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/pages/Dashboard.tsx`
- `apps/client-portal/src/components/dashboard/ProjectOverview.tsx`
- `apps/client-portal/src/components/dashboard/UpcomingTasks.tsx`
- `apps/client-portal/src/components/dashboard/BudgetSummary.tsx`
- `apps/client-portal/src/components/dashboard/RecentActivity.tsx`
- `apps/client-portal/src/components/dashboard/QuickActions.tsx`

🔄 **Comportement attendu** : Créer un dashboard responsive avec grille de widgets. Implémenter les widgets de vue d'ensemble : état du projet, prochaines échéances, résumé budgétaire, activité récente. Créer des accès rapides vers les modules principaux. Gérer les états de chargement et d'erreur pour chaque widget. Implémenter la personnalisation de l'affichage des widgets.

⚙️ **Intégrations** : Récupération des données depuis Supabase, intégration avec les modules futurs pour les données synthétiques.

💡 **Tips Windsurf** : Utilise React Query pour la gestion du cache et des requêtes. Implémente des skeletons de chargement pour une meilleure UX. Assure-toi que le dashboard est responsive et fonctionne bien sur mobile. Prépare des hooks personnalisés pour récupérer les données de chaque widget.

---

## 3. Phase 2 : Modules Prioritaires

La deuxième phase introduit les premiers modules fonctionnels qui apportent une valeur immédiate aux utilisateurs tout en servant de fondation pour les modules plus complexes. Cette phase se concentre sur les fonctionnalités essentielles identifiées comme prioritaires dans l'analyse des besoins.

### 3.1 Module Documents

#### Prompt 2.1 : Interface de Gestion des Documents

🎯 **But** : Créer l'interface complète de gestion des documents avec visualisation, téléchargement, et organisation par catégories.

🧠 **Contexte** : Le module Documents permet aux clients d'accéder aux documents partagés par l'équipe Wedding Collection. Il doit offrir une interface intuitive pour consulter, télécharger, et organiser les documents par catégories, avec support de la prévisualisation intégrée.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/pages/Documents.tsx`
- `apps/client-portal/src/components/documents/DocumentList.tsx`
- `apps/client-portal/src/components/documents/DocumentCard.tsx`
- `apps/client-portal/src/components/documents/DocumentViewer.tsx`
- `apps/client-portal/src/components/documents/CategoryFilter.tsx`
- `apps/client-portal/src/services/documents.ts`
- `apps/client-portal/src/types/documents.ts`

🔄 **Comportement attendu** : Créer une interface de liste des documents avec filtrage par catégorie et recherche textuelle. Implémenter les cartes de document avec aperçu, métadonnées, et actions (télécharger, visualiser). Créer un visualiseur de documents intégré pour les PDF et images. Gérer les permissions d'accès selon les politiques RLS. Implémenter la pagination et le chargement progressif pour les grandes listes.

⚙️ **Intégrations** : Intégration avec Supabase Storage pour l'accès aux fichiers, synchronisation avec le module Documents du Backoffice.

💡 **Tips Windsurf** : Utilise React PDF Viewer pour la prévisualisation des PDF. Implémente un système de cache pour les métadonnées des documents. Assure-toi que les téléchargements fonctionnent correctement avec les politiques de sécurité. Teste avec différents types de fichiers (PDF, images, documents Office).

#### Prompt 2.2 : Système de Signature Électronique

🎯 **But** : Intégrer le système de signature électronique pour les documents nécessitant une validation client.

🧠 **Contexte** : Certains documents nécessitent une signature électronique de la part du client. Le système doit être conforme aux réglementations en vigueur et s'intégrer avec un service tiers de signature électronique.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/components/documents/SignatureFlow.tsx`
- `apps/client-portal/src/components/documents/SignatureViewer.tsx`
- `apps/client-portal/src/services/signature.ts`
- `apps/client-portal/src/hooks/useSignature.ts`

🔄 **Comportement attendu** : Créer le workflow de signature électronique avec étapes de validation d'identité, prévisualisation du document, et signature. Implémenter l'intégration avec le service de signature électronique (DocuSign ou équivalent). Gérer les états de signature (en attente, signé, refusé) avec notifications appropriées. Archiver les documents signés avec horodatage et preuves de signature.

⚙️ **Intégrations** : Service tiers de signature électronique, notification vers le Backoffice lors de signature complétée.

💡 **Tips Windsurf** : Utilise l'API du service de signature choisi avec gestion des webhooks pour les notifications. Implémente une validation côté client avant envoi pour signature. Assure-toi que le processus est sécurisé et conforme aux réglementations. Teste le workflow complet de signature.

### 3.2 Module Plan de Salle

#### Prompt 2.3 : Interface Interactive de Plan de Salle

🎯 **But** : Créer l'interface interactive de création et édition de plan de salle avec fonctionnalités drag-and-drop.

🧠 **Contexte** : Le module Plan de Salle est une fonctionnalité différenciante majeure permettant aux clients de créer et modifier interactivement le plan de table de leur événement. L'interface doit être intuitive avec des capacités de glisser-déposer et une visualisation en temps réel.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/pages/SeatingPlan.tsx`
- `apps/client-portal/src/components/seating/SeatingCanvas.tsx`
- `apps/client-portal/src/components/seating/TableElement.tsx`
- `apps/client-portal/src/components/seating/GuestAssignment.tsx`
- `apps/client-portal/src/components/seating/SeatingToolbar.tsx`
- `apps/client-portal/src/services/seating.ts`
- `apps/client-portal/src/hooks/useSeatingPlan.ts`

🔄 **Comportement attendu** : Créer un canvas interactif pour la disposition des tables avec fonctionnalités drag-and-drop. Implémenter les éléments de table configurables (forme, taille, nombre de places). Créer l'interface d'assignation des invités aux tables avec recherche et filtrage. Gérer les contraintes de placement (capacité des tables, affinités). Implémenter la sauvegarde automatique et l'historique des versions.

⚙️ **Intégrations** : Synchronisation avec les données d'invités, sauvegarde en temps réel dans Supabase.

💡 **Tips Windsurf** : Utilise React DnD ou @dnd-kit/core pour les fonctionnalités drag-and-drop. Implémente un système de coordonnées pour le positionnement précis des éléments. Assure-toi que l'interface fonctionne bien sur tablette et mobile. Optimise les performances pour les grands nombres d'invités.

#### Prompt 2.4 : Gestion des Invités et Assignation

🎯 **But** : Créer le système de gestion des invités intégré au plan de salle avec assignation intelligente.

🧠 **Contexte** : La gestion des invités doit permettre l'assignation aux tables avec prise en compte des relations, préférences, et contraintes. Le système doit suggérer des placements optimaux tout en laissant la liberté de modification au client.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/components/seating/GuestList.tsx`
- `apps/client-portal/src/components/seating/GuestCard.tsx`
- `apps/client-portal/src/components/seating/AssignmentSuggestions.tsx`
- `apps/client-portal/src/components/seating/ConflictDetection.tsx`
- `apps/client-portal/src/services/guests.ts`

🔄 **Comportement attendu** : Créer la liste des invités avec statuts RSVP et informations de placement. Implémenter l'assignation par glisser-déposer depuis la liste vers les tables. Créer un système de suggestions de placement basé sur les relations et préférences. Détecter et signaler les conflits de placement (capacité dépassée, incompatibilités). Gérer les groupes d'invités et les placements en bloc.

⚙️ **Intégrations** : Synchronisation avec les données d'invités du Backoffice, mise à jour en temps réel des assignations.

💡 **Tips Windsurf** : Implémente un algorithme de suggestion de placement basé sur les relations entre invités. Utilise des indicateurs visuels pour les conflits et suggestions. Assure-toi que les modifications sont sauvegardées en temps réel. Teste avec différents scénarios de placement complexes.

### 3.3 Module Messagerie

#### Prompt 2.5 : Interface de Messagerie Temps Réel

🎯 **But** : Créer l'interface de messagerie sécurisée avec communication temps réel entre clients et équipe Wedding Collection.

🧠 **Contexte** : Le module Messagerie établit un canal de communication direct et sécurisé entre les clients et l'équipe Wedding Collection. Il doit supporter les conversations en temps réel, le partage de fichiers, et l'historique des échanges.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/pages/Messages.tsx`
- `apps/client-portal/src/components/messaging/ConversationList.tsx`
- `apps/client-portal/src/components/messaging/ChatWindow.tsx`
- `apps/client-portal/src/components/messaging/MessageInput.tsx`
- `apps/client-portal/src/components/messaging/FileAttachment.tsx`
- `apps/client-portal/src/services/messaging.ts`
- `apps/client-portal/src/hooks/useRealtime.ts`

🔄 **Comportement attendu** : Créer l'interface de liste des conversations avec aperçu des derniers messages. Implémenter la fenêtre de chat avec affichage chronologique des messages. Créer l'input de message avec support des pièces jointes et émojis. Gérer les notifications en temps réel avec Supabase Realtime. Implémenter la pagination de l'historique et la recherche dans les messages.

⚙️ **Intégrations** : Supabase Realtime pour les messages temps réel, Supabase Storage pour les pièces jointes, notifications vers le Backoffice.

💡 **Tips Windsurf** : Utilise Supabase Realtime avec les subscriptions pour les mises à jour en temps réel. Implémente un système de cache pour l'historique des messages. Assure-toi que les notifications fonctionnent même quand l'application n'est pas active. Teste la performance avec de longues conversations.

#### Prompt 2.6 : Système de Notifications et Alertes

🎯 **But** : Implémenter le système de notifications global avec alertes en temps réel et préférences utilisateur.

🧠 **Contexte** : Le système de notifications doit informer les clients des événements importants (nouveaux messages, documents, échéances) avec des préférences personnalisables et un historique consultable.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/components/notifications/NotificationCenter.tsx`
- `apps/client-portal/src/components/notifications/NotificationItem.tsx`
- `apps/client-portal/src/components/notifications/NotificationPreferences.tsx`
- `apps/client-portal/src/services/notifications.ts`
- `apps/client-portal/src/hooks/useNotifications.ts`

🔄 **Comportement attendu** : Créer le centre de notifications avec liste des alertes récentes et historique. Implémenter les différents types de notifications (messages, documents, échéances, système). Créer l'interface de préférences pour personnaliser les notifications. Gérer les notifications push et email selon les préférences. Implémenter le marquage comme lu/non lu et l'archivage.

⚙️ **Intégrations** : Intégration avec tous les modules pour déclencher les notifications, service email pour les notifications externes.

💡 **Tips Windsurf** : Utilise un système d'événements centralisé pour déclencher les notifications. Implémente des templates de notification réutilisables. Assure-toi que les préférences sont respectées pour tous les types de notifications. Teste les notifications sur différents appareils et navigateurs.

---

## 4. Phase 3 : Modules Complémentaires

La troisième phase enrichit l'application avec des modules qui complètent l'expérience utilisateur et ajoutent des fonctionnalités de gestion avancées. Ces modules s'appuient sur les fondations établies dans les phases précédentes pour offrir une expérience complète et intégrée.

### 4.1 Module Budget

#### Prompt 3.1 : Interface de Suivi Budgétaire

🎯 **But** : Créer l'interface complète de suivi budgétaire avec visualisation des dépenses et gestion des budgets personnels.

🧠 **Contexte** : Le module Budget permet aux clients de suivre l'évolution financière de leur projet de mariage, incluant les dépenses gérées par Wedding Collection et leurs dépenses personnelles. L'interface doit offrir une transparence totale sur les coûts et permettre une planification financière efficace.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/pages/Budget.tsx`
- `apps/client-portal/src/components/budget/BudgetOverview.tsx`
- `apps/client-portal/src/components/budget/CategoryBreakdown.tsx`
- `apps/client-portal/src/components/budget/PersonalExpenses.tsx`
- `apps/client-portal/src/components/budget/BudgetAlerts.tsx`
- `apps/client-portal/src/services/budget.ts`
- `apps/client-portal/src/hooks/useBudget.ts`

🔄 **Comportement attendu** : Créer une vue d'ensemble du budget avec graphiques de répartition par catégories. Implémenter le détail des dépenses par postes avec comparaison prévisionnel/réel. Créer l'interface de gestion des dépenses personnelles (ajout, modification, suppression). Implémenter les alertes budgétaires avec seuils configurables. Générer des rapports et exports des données budgétaires.

⚙️ **Intégrations** : Synchronisation avec le module Comptabilité du Backoffice, calculs automatiques des totaux et écarts.

💡 **Tips Windsurf** : Utilise Chart.js ou Recharts pour les visualisations graphiques. Implémente une validation stricte pour les montants saisis. Assure-toi que les calculs sont précis et cohérents. Teste avec différents scénarios budgétaires complexes.

#### Prompt 3.2 : Alertes et Prévisions Budgétaires

🎯 **But** : Implémenter le système d'alertes budgétaires et de prévisions pour aider les clients dans leur planification financière.

🧠 **Contexte** : Le système d'alertes doit prévenir les clients en cas de dépassement budgétaire ou d'approche des seuils définis. Les prévisions aident à anticiper les dépenses futures basées sur l'historique et le planning.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/components/budget/BudgetForecasting.tsx`
- `apps/client-portal/src/components/budget/AlertConfiguration.tsx`
- `apps/client-portal/src/services/budgetAnalytics.ts`
- `apps/client-portal/src/hooks/useBudgetAlerts.ts`

🔄 **Comportement attendu** : Créer l'interface de configuration des alertes avec seuils personnalisables par catégorie. Implémenter les prévisions budgétaires basées sur l'historique et le planning. Générer des alertes automatiques en cas de dépassement ou d'approche des seuils. Créer des recommandations d'optimisation budgétaire. Implémenter l'export des analyses budgétaires.

⚙️ **Intégrations** : Intégration avec le module Planning pour les prévisions, système de notifications pour les alertes.

💡 **Tips Windsurf** : Implémente des algorithmes de prévision simples basés sur les tendances historiques. Utilise des indicateurs visuels clairs pour les alertes. Assure-toi que les seuils d'alerte sont facilement configurables. Teste les prévisions avec différents patterns de dépenses.

### 4.2 Module Planning

#### Prompt 3.3 : Visualisation du Planning Événement

🎯 **But** : Créer l'interface de visualisation du planning de l'événement avec vue calendrier et détail des étapes.

🧠 **Contexte** : Le module Planning offre aux clients une visibilité complète sur l'avancement de leur projet et les prochaines échéances. Il doit synchroniser avec le planning géré par l'équipe Wedding Collection tout en permettant aux clients de suivre leur progression.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/pages/Planning.tsx`
- `apps/client-portal/src/components/planning/PlanningCalendar.tsx`
- `apps/client-portal/src/components/planning/TaskList.tsx`
- `apps/client-portal/src/components/planning/MilestoneTracker.tsx`
- `apps/client-portal/src/components/planning/WeddingDaySchedule.tsx`
- `apps/client-portal/src/services/planning.ts`

🔄 **Comportement attendu** : Créer une vue calendrier interactive avec affichage des événements et échéances. Implémenter la liste des tâches avec statuts et possibilité de marquage comme complétées. Créer le tracker des jalons importants avec progression visuelle. Implémenter la vue détaillée du déroulé du jour J. Gérer les rappels et notifications pour les échéances importantes.

⚙️ **Intégrations** : Synchronisation avec le module Suivi des Mariages du Backoffice, intégration avec le système de notifications.

💡 **Tips Windsurf** : Utilise React Big Calendar ou FullCalendar pour la vue calendrier. Implémente des filtres par type d'événement et période. Assure-toi que la synchronisation avec le Backoffice fonctionne en temps réel. Teste avec des plannings complexes et de longue durée.

#### Prompt 3.4 : Gestion des Tâches Client

🎯 **But** : Implémenter la gestion des tâches spécifiques aux clients avec suivi de progression et rappels.

🧠 **Contexte** : Certaines tâches du planning nécessitent une action de la part du client. Le système doit permettre le suivi de ces tâches avec des rappels appropriés et la possibilité de marquer les tâches comme complétées.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/components/planning/ClientTasks.tsx`
- `apps/client-portal/src/components/planning/TaskDetail.tsx`
- `apps/client-portal/src/components/planning/TaskReminders.tsx`
- `apps/client-portal/src/hooks/useTasks.ts`

🔄 **Comportement attendu** : Créer l'interface de liste des tâches client avec filtrage par statut et échéance. Implémenter la vue détaillée des tâches avec instructions et ressources. Créer le système de rappels automatiques avec préférences de fréquence. Permettre le marquage des tâches comme complétées avec commentaires optionnels. Synchroniser les statuts avec le Backoffice.

⚙️ **Intégrations** : Synchronisation bidirectionnelle avec le Backoffice, intégration avec le système de notifications et rappels.

💡 **Tips Windsurf** : Implémente un système de priorités pour les tâches. Utilise des indicateurs visuels pour les échéances urgentes. Assure-toi que les rappels sont envoyés aux bons moments. Teste le workflow complet de gestion des tâches.

### 4.3 Module Invités Complet

#### Prompt 3.5 : Gestion Complète de la Liste d'Invités

🎯 **But** : Créer l'interface complète de gestion des invités avec import/export, groupes, et suivi RSVP.

🧠 **Contexte** : Le module Invités complète le module Plan de Salle en offrant une gestion exhaustive de la liste d'invités. Il doit permettre l'import de données externes, la gestion des groupes familiaux, et le suivi des confirmations de présence.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/pages/Guests.tsx`
- `apps/client-portal/src/components/guests/GuestList.tsx`
- `apps/client-portal/src/components/guests/GuestForm.tsx`
- `apps/client-portal/src/components/guests/ImportExport.tsx`
- `apps/client-portal/src/components/guests/GroupManagement.tsx`
- `apps/client-portal/src/components/guests/RSVPTracking.tsx`
- `apps/client-portal/src/services/guests.ts`

🔄 **Comportement attendu** : Créer l'interface de liste des invités avec recherche, filtrage, et tri. Implémenter le formulaire d'ajout/modification d'invités avec validation. Créer les fonctionnalités d'import CSV/Excel et d'export des données. Implémenter la gestion des groupes d'invités avec relations familiales. Créer le suivi des RSVP avec statuts et commentaires.

⚙️ **Intégrations** : Intégration bidirectionnelle avec le module Plan de Salle, synchronisation avec les données du Backoffice.

💡 **Tips Windsurf** : Utilise Papa Parse pour l'import/export CSV. Implémente une validation robuste des données importées. Assure-toi que les modifications se répercutent correctement sur le plan de salle. Teste avec de grandes listes d'invités (500+).

#### Prompt 3.6 : Statistiques et Rapports d'Invités

🎯 **But** : Implémenter les statistiques et rapports sur les invités pour faciliter la planification logistique.

🧠 **Contexte** : Les statistiques d'invités aident les clients et l'équipe Wedding Collection à planifier les aspects logistiques de l'événement (nombre de repas, régimes alimentaires, hébergement, etc.).

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/components/guests/GuestStatistics.tsx`
- `apps/client-portal/src/components/guests/DietaryRequirements.tsx`
- `apps/client-portal/src/components/guests/AttendanceReports.tsx`
- `apps/client-portal/src/services/guestAnalytics.ts`

🔄 **Comportement attendu** : Créer les tableaux de bord statistiques avec répartition par groupes, âges, régions. Implémenter le suivi des régimes alimentaires et besoins spéciaux. Générer les rapports de présence avec évolution dans le temps. Créer les exports pour la logistique (listes par table, régimes, hébergement). Calculer automatiquement les totaux pour la planification.

⚙️ **Intégrations** : Utilisation des données d'invités et de plan de salle, export vers les modules logistiques du Backoffice.

💡 **Tips Windsurf** : Utilise des graphiques interactifs pour les statistiques. Implémente des filtres dynamiques pour les rapports. Assure-toi que les calculs sont mis à jour en temps réel. Teste avec différents scénarios de répartition d'invités.

---

## 5. Phase 4 : Modules Avancés et Écosystème

La quatrième phase introduit les modules les plus complexes et les intégrations avec l'écosystème étendu de l'ERP Wedding Collection. Cette phase finalise l'expérience utilisateur avec des fonctionnalités avancées et des intégrations sophistiquées.

### 5.1 Module Prestataires

#### Prompt 4.1 : Catalogue et Recherche de Prestataires

🎯 **But** : Créer l'interface de catalogue des prestataires avec recherche avancée et filtrage multicritères.

🧠 **Contexte** : Le module Prestataires permet aux clients d'explorer le réseau de partenaires Wedding Collection, de consulter leurs services, et d'initier des demandes de devis. L'interface doit être intuitive et faciliter la découverte des prestataires adaptés aux besoins spécifiques.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/pages/Vendors.tsx`
- `apps/client-portal/src/components/vendors/VendorCatalog.tsx`
- `apps/client-portal/src/components/vendors/VendorCard.tsx`
- `apps/client-portal/src/components/vendors/VendorDetail.tsx`
- `apps/client-portal/src/components/vendors/SearchFilters.tsx`
- `apps/client-portal/src/services/vendors.ts`

🔄 **Comportement attendu** : Créer le catalogue des prestataires avec affichage en grille et liste. Implémenter la recherche textuelle et les filtres par catégorie, localisation, budget, disponibilité. Créer les cartes de prestataires avec photos, services, évaluations, et prix indicatifs. Implémenter la vue détaillée avec portfolio, avis clients, et informations complètes. Gérer les favoris et comparaisons de prestataires.

⚙️ **Intégrations** : Synchronisation avec le module Gestion des Prestataires du Backoffice, intégration avec le Portail Prestataire pour les disponibilités.

💡 **Tips Windsurf** : Utilise Fuse.js pour la recherche textuelle avancée. Implémente un système de pagination ou scroll infini pour les grandes listes. Assure-toi que les filtres sont performants et intuitifs. Teste avec un grand nombre de prestataires et différents critères de recherche.

#### Prompt 4.2 : Système de Devis et Sélection

🎯 **But** : Implémenter le système complet de demande de devis, réception, comparaison, et sélection des prestataires.

🧠 **Contexte** : Le système de devis constitue le cœur de l'interaction avec les prestataires. Il doit permettre aux clients de formuler leurs besoins, recevoir des propositions, les comparer, et finaliser leur sélection avec une intégration transparente avec le Portail Prestataire.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/components/vendors/QuoteRequest.tsx`
- `apps/client-portal/src/components/vendors/QuoteComparison.tsx`
- `apps/client-portal/src/components/vendors/VendorSelection.tsx`
- `apps/client-portal/src/components/vendors/QuoteHistory.tsx`
- `apps/client-portal/src/services/quotes.ts`
- `apps/client-portal/src/hooks/useQuotes.ts`

🔄 **Comportement attendu** : Créer le formulaire de demande de devis avec spécification détaillée des besoins. Implémenter l'interface de réception et visualisation des devis avec détails des prestations. Créer l'outil de comparaison côte à côte des différentes propositions. Implémenter le processus de sélection avec confirmation et notification automatique. Gérer l'historique des demandes et le suivi des statuts.

⚙️ **Intégrations** : Intégration tri-directionnelle avec le Backoffice et le Portail Prestataire, notifications automatiques, synchronisation des statuts.

💡 **Tips Windsurf** : Implémente un système de templates pour les demandes de devis récurrentes. Utilise des tableaux de comparaison interactifs pour faciliter la décision. Assure-toi que les notifications fonctionnent dans les trois applications. Teste le workflow complet de bout en bout.

### 5.2 Module Moodboard

#### Prompt 4.3 : Espace Créatif et Inspiration

🎯 **But** : Créer l'espace créatif Moodboard pour la collecte et organisation d'inspirations visuelles.

🧠 **Contexte** : Le module Moodboard offre aux clients un espace créatif pour collecter, organiser, et partager leurs inspirations visuelles avec l'équipe Wedding Collection. Il doit faciliter la communication des goûts et préférences esthétiques.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/pages/Moodboard.tsx`
- `apps/client-portal/src/components/moodboard/BoardCanvas.tsx`
- `apps/client-portal/src/components/moodboard/ImageUpload.tsx`
- `apps/client-portal/src/components/moodboard/ThemeOrganizer.tsx`
- `apps/client-portal/src/components/moodboard/CollaborativeNotes.tsx`
- `apps/client-portal/src/services/moodboard.ts`

🔄 **Comportement attendu** : Créer l'interface de canvas pour l'organisation visuelle des inspirations. Implémenter l'upload d'images avec redimensionnement automatique et optimisation. Créer l'organisation par thèmes et catégories (décoration, couleurs, style, etc.). Implémenter les notes collaboratives avec l'équipe Wedding Collection. Gérer le partage et l'export des moodboards.

⚙️ **Intégrations** : Supabase Storage pour les images, partage avec le Backoffice, intégration avec le module Messagerie pour les commentaires.

💡 **Tips Windsurf** : Utilise React DnD pour l'organisation des éléments sur le canvas. Implémente une compression d'images côté client pour optimiser le stockage. Assure-toi que l'interface fonctionne bien sur tablette pour l'aspect créatif. Teste avec de nombreuses images et différents formats.

#### Prompt 4.4 : Collaboration et Partage

🎯 **But** : Implémenter les fonctionnalités de collaboration et partage des moodboards avec l'équipe et les proches.

🧠 **Contexte** : Les moodboards doivent pouvoir être partagés avec l'équipe Wedding Collection pour faciliter la compréhension des goûts clients, et optionnellement avec les proches pour recueillir des avis et suggestions.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/components/moodboard/SharingControls.tsx`
- `apps/client-portal/src/components/moodboard/CommentSystem.tsx`
- `apps/client-portal/src/components/moodboard/ExportOptions.tsx`
- `apps/client-portal/src/services/sharing.ts`

🔄 **Comportement attendu** : Créer les contrôles de partage avec gestion des permissions (lecture, commentaire). Implémenter le système de commentaires avec notifications en temps réel. Créer les options d'export (PDF, image, lien de partage). Gérer les versions et l'historique des modifications. Implémenter la collaboration en temps réel avec indicateurs de présence.

⚙️ **Intégrations** : Système de notifications, intégration avec le Backoffice pour les commentaires équipe, génération de liens de partage sécurisés.

💡 **Tips Windsurf** : Utilise Supabase Realtime pour la collaboration en temps réel. Implémente un système de permissions granulaires pour le partage. Assure-toi que les exports sont de haute qualité. Teste la collaboration simultanée avec plusieurs utilisateurs.

### 5.3 Fonctionnalités Avancées

#### Prompt 4.5 : Recherche Globale et Intelligence

🎯 **But** : Implémenter la recherche globale intelligente à travers tous les modules et contenus de l'application.

🧠 **Contexte** : La recherche globale permet aux clients de trouver rapidement n'importe quelle information dans leur espace client, qu'il s'agisse de documents, messages, prestataires, ou données de planning.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/components/search/GlobalSearch.tsx`
- `apps/client-portal/src/components/search/SearchResults.tsx`
- `apps/client-portal/src/components/search/SearchFilters.tsx`
- `apps/client-portal/src/services/search.ts`
- `apps/client-portal/src/hooks/useSearch.ts`

🔄 **Comportement attendu** : Créer l'interface de recherche globale avec suggestions en temps réel. Implémenter la recherche dans tous les modules (documents, messages, prestataires, invités, etc.). Créer les filtres par type de contenu et date. Implémenter la mise en évidence des termes recherchés dans les résultats. Gérer l'historique des recherches et les recherches sauvegardées.

⚙️ **Intégrations** : Indexation de tous les contenus accessibles au client, intégration avec tous les modules existants.

💡 **Tips Windsurf** : Utilise Fuse.js pour la recherche floue et la pertinence. Implémente un système d'indexation côté client pour les performances. Assure-toi que la recherche respecte les permissions d'accès. Teste avec de gros volumes de données.

#### Prompt 4.6 : Personnalisation et Préférences

🎯 **But** : Créer le système de personnalisation de l'interface et de gestion des préférences utilisateur.

🧠 **Contexte** : Les clients doivent pouvoir personnaliser leur expérience avec des préférences d'affichage, de notifications, et de fonctionnalités selon leurs besoins spécifiques.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/pages/Settings.tsx`
- `apps/client-portal/src/components/settings/ProfileSettings.tsx`
- `apps/client-portal/src/components/settings/NotificationPreferences.tsx`
- `apps/client-portal/src/components/settings/DisplayPreferences.tsx`
- `apps/client-portal/src/components/settings/PrivacySettings.tsx`
- `apps/client-portal/src/services/preferences.ts`

🔄 **Comportement attendu** : Créer l'interface de gestion du profil utilisateur avec modification des informations personnelles. Implémenter les préférences de notifications (types, fréquence, canaux). Créer les options d'affichage (thème, langue, densité d'information). Implémenter les paramètres de confidentialité et de partage. Gérer la sauvegarde et synchronisation des préférences.

⚙️ **Intégrations** : Synchronisation avec le profil utilisateur du Backoffice, application des préférences dans tous les modules.

💡 **Tips Windsurf** : Implémente un système de thèmes avec CSS variables. Utilise le localStorage pour la persistance des préférences d'affichage. Assure-toi que les changements de préférences s'appliquent immédiatement. Teste avec différentes combinaisons de préférences.

---

## 6. Validation et Intégration Globale

Cette section couvre la validation complète de l'application et l'intégration harmonieuse avec l'écosystème ERP Wedding Collection. Elle inclut les tests de bout en bout, l'optimisation des performances, et la validation de la cohérence avec le Backoffice.

### 6.1 Tests et Validation

#### Prompt 5.1 : Tests End-to-End et Validation Fonctionnelle

🎯 **But** : Implémenter une suite complète de tests end-to-end pour valider tous les workflows critiques de l'application.

🧠 **Contexte** : Les tests end-to-end garantissent que tous les modules fonctionnent correctement ensemble et que les intégrations avec le Backoffice et le Portail Prestataire sont opérationnelles. Ces tests couvrent les parcours utilisateur complets depuis l'authentification jusqu'aux fonctionnalités avancées.

🛠️ **Fichiers concernés** :
- `apps/client-portal/e2e/auth.spec.ts`
- `apps/client-portal/e2e/documents.spec.ts`
- `apps/client-portal/e2e/seating-plan.spec.ts`
- `apps/client-portal/e2e/messaging.spec.ts`
- `apps/client-portal/e2e/vendors.spec.ts`
- `apps/client-portal/e2e/integration.spec.ts`

🔄 **Comportement attendu** : Créer les tests d'authentification (connexion, déconnexion, récupération de mot de passe). Implémenter les tests de navigation et d'accès aux modules. Créer les tests des fonctionnalités critiques (création de plan de salle, envoi de messages, demande de devis). Tester les intégrations avec le Backoffice (synchronisation des données). Valider les permissions et la sécurité d'accès aux données.

⚙️ **Intégrations** : Tests d'intégration avec Supabase, validation des politiques RLS, tests de synchronisation avec le Backoffice.

💡 **Tips Windsurf** : Utilise Playwright ou Cypress pour les tests e2e. Crée des données de test cohérentes et reproductibles. Implémente des tests de régression pour les fonctionnalités critiques. Assure-toi que les tests peuvent s'exécuter en parallèle.

#### Prompt 5.2 : Tests de Performance et Optimisation

🎯 **But** : Optimiser les performances de l'application et valider les temps de réponse pour une expérience utilisateur optimale.

🧠 **Contexte** : Les performances sont critiques pour l'expérience utilisateur, particulièrement pour les modules interactifs comme le Plan de Salle et la Messagerie temps réel. L'optimisation doit couvrir le chargement initial, les interactions utilisateur, et la gestion de la mémoire.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/utils/performance.ts`
- `apps/client-portal/src/hooks/usePerformanceMonitoring.ts`
- `apps/client-portal/performance/lighthouse.config.js`
- `apps/client-portal/performance/load-testing.spec.ts`

🔄 **Comportement attendu** : Implémenter le monitoring des performances avec métriques clés (LCP, FID, CLS). Optimiser le chargement initial avec code splitting et lazy loading. Optimiser les modules interactifs avec virtualisation et debouncing. Implémenter la mise en cache intelligente des données. Optimiser les images et assets pour le web.

⚙️ **Intégrations** : Monitoring des performances Supabase, optimisation des requêtes et du cache.

💡 **Tips Windsurf** : Utilise React.memo et useMemo pour optimiser les re-renders. Implémente le lazy loading pour les modules non critiques. Utilise Lighthouse pour auditer les performances. Teste avec des connexions lentes et des appareils moins puissants.

### 6.2 Cohérence avec l'Écosystème

#### Prompt 5.3 : Validation de l'Intégration Backoffice

🎯 **But** : Valider et optimiser l'intégration bidirectionnelle avec le Backoffice pour garantir la cohérence des données et des workflows.

🧠 **Contexte** : L'intégration avec le Backoffice est critique pour le fonctionnement de l'ERP. Elle doit garantir que les données sont synchronisées en temps réel, que les workflows sont cohérents, et que les équipes peuvent collaborer efficacement.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/services/backofficeSync.ts`
- `apps/client-portal/src/hooks/useBackofficeIntegration.ts`
- `apps/client-portal/src/utils/dataValidation.ts`
- `apps/client-portal/integration/backoffice.test.ts`

🔄 **Comportement attendu** : Valider la synchronisation des données utilisateur et de projet. Tester les notifications bidirectionnelles entre applications. Valider les permissions et l'accès aux données partagées. Tester les workflows collaboratifs (messages, documents, planning). Implémenter la gestion des conflits de données et la résolution automatique.

⚙️ **Intégrations** : Tests complets avec le Backoffice, validation des politiques RLS, synchronisation Supabase Realtime.

💡 **Tips Windsurf** : Crée des tests d'intégration avec des données réelles anonymisées. Implémente des mécanismes de fallback en cas de problème de synchronisation. Valide que les modifications dans une application se répercutent correctement dans l'autre. Teste les cas de charge élevée.

#### Prompt 5.4 : Documentation et Guide Utilisateur

🎯 **But** : Créer la documentation complète de l'application et les guides utilisateur pour faciliter l'adoption et la maintenance.

🧠 **Contexte** : Une documentation complète est essentielle pour l'adoption par les clients et la maintenance par l'équipe technique. Elle doit couvrir les fonctionnalités, les workflows, et les aspects techniques.

🛠️ **Fichiers concernés** :
- `apps/client-portal/docs/user-guide.md`
- `apps/client-portal/docs/technical-documentation.md`
- `apps/client-portal/docs/api-reference.md`
- `apps/client-portal/src/components/help/HelpCenter.tsx`
- `apps/client-portal/src/components/help/TutorialOverlay.tsx`

🔄 **Comportement attendu** : Créer le guide utilisateur avec captures d'écran et workflows détaillés. Documenter l'architecture technique et les choix de conception. Créer la référence API pour les intégrations futures. Implémenter le centre d'aide intégré avec recherche. Créer les tutoriels interactifs pour les fonctionnalités complexes.

⚙️ **Intégrations** : Intégration du centre d'aide dans l'application, liens vers la documentation externe.

💡 **Tips Windsurf** : Utilise des outils comme Storybook pour documenter les composants. Crée des vidéos tutorielles pour les fonctionnalités complexes. Implémente un système de feedback sur la documentation. Assure-toi que la documentation est maintenue à jour avec les évolutions.

---

## 7. Optimisation et Déploiement

Cette section finale couvre l'optimisation pour la production, la configuration du déploiement, et la mise en place du monitoring pour assurer une exploitation optimale de l'application.

### 7.1 Préparation Production

#### Prompt 6.1 : Configuration Production et Sécurité

🎯 **But** : Configurer l'application pour la production avec optimisations de sécurité et de performance.

🧠 **Contexte** : La configuration de production doit garantir la sécurité maximale, les performances optimales, et la fiabilité de l'application. Elle inclut la configuration des variables d'environnement, la sécurisation des APIs, et l'optimisation des builds.

🛠️ **Fichiers concernés** :
- `apps/client-portal/vite.config.prod.ts`
- `apps/client-portal/.env.production`
- `apps/client-portal/src/config/security.ts`
- `apps/client-portal/src/utils/errorHandling.ts`
- `apps/client-portal/security-headers.config.js`

🔄 **Comportement attendu** : Configurer les variables d'environnement de production avec sécurisation des clés. Implémenter les headers de sécurité (CSP, HSTS, etc.). Configurer la gestion d'erreurs pour la production avec logging approprié. Optimiser le build avec minification et compression. Configurer les politiques de cache pour les assets statiques.

⚙️ **Intégrations** : Configuration Supabase de production, intégration avec les services de monitoring.

💡 **Tips Windsurf** : Utilise des outils comme helmet.js pour les headers de sécurité. Implémente un système de logging centralisé. Assure-toi que les clés API ne sont jamais exposées côté client. Teste la configuration de production en environnement de staging.

#### Prompt 6.2 : Monitoring et Observabilité

🎯 **But** : Implémenter le monitoring complet de l'application avec métriques, logs, et alertes.

🧠 **Contexte** : Le monitoring est essentiel pour maintenir la qualité de service et détecter rapidement les problèmes en production. Il doit couvrir les performances, les erreurs, l'utilisation, et la satisfaction utilisateur.

🛠️ **Fichiers concernés** :
- `apps/client-portal/src/services/analytics.ts`
- `apps/client-portal/src/hooks/useErrorTracking.ts`
- `apps/client-portal/src/utils/performanceMetrics.ts`
- `apps/client-portal/monitoring/dashboard.config.js`

🔄 **Comportement attendu** : Implémenter le tracking des métriques de performance (temps de chargement, interactions). Configurer le tracking des erreurs avec contexte détaillé. Implémenter l'analytics d'utilisation pour comprendre les comportements utilisateur. Créer les alertes automatiques pour les problèmes critiques. Configurer les dashboards de monitoring pour l'équipe technique.

⚙️ **Intégrations** : Intégration avec des services comme Sentry, Google Analytics, ou équivalents.

💡 **Tips Windsurf** : Implémente un système de métriques personnalisées pour les KPIs métier. Utilise le sampling pour éviter la surcharge de données. Assure-toi que le monitoring respecte la confidentialité des données. Teste les alertes avec des scénarios de panne simulés.

### 7.2 Déploiement et Maintenance

#### Prompt 6.3 : Pipeline de Déploiement Automatisé

🎯 **But** : Configurer le pipeline de déploiement automatisé avec tests, build, et déploiement sécurisé.

🧠 **Contexte** : Le déploiement automatisé garantit la cohérence, réduit les erreurs humaines, et accélère les cycles de livraison. Il doit inclure les tests automatiques, la validation de sécurité, et le déploiement progressif.

🛠️ **Fichiers concernés** :
- `apps/client-portal/.github/workflows/deploy.yml`
- `apps/client-portal/scripts/build.sh`
- `apps/client-portal/scripts/deploy.sh`
- `apps/client-portal/docker/Dockerfile`
- `apps/client-portal/deployment/vercel.json`

🔄 **Comportement attendu** : Configurer le pipeline CI/CD avec tests automatiques à chaque commit. Implémenter la validation de sécurité et l'audit des dépendances. Configurer le build optimisé pour la production. Implémenter le déploiement progressif avec rollback automatique. Configurer les environnements de staging et production.

⚙️ **Intégrations** : Intégration avec GitHub Actions, Vercel, ou équivalents, synchronisation avec les environnements Supabase.

💡 **Tips Windsurf** : Utilise des environnements de preview pour valider les changements. Implémente des tests de smoke après déploiement. Assure-toi que les rollbacks sont rapides et fiables. Documente le processus de déploiement d'urgence.

#### Prompt 6.4 : Plan de Maintenance et Évolution

🎯 **But** : Établir le plan de maintenance continue et préparer l'évolution future de l'application.

🧠 **Contexte** : La maintenance continue est essentielle pour maintenir la sécurité, les performances, et l'évolutivité de l'application. Elle inclut les mises à jour de sécurité, l'optimisation continue, et la préparation des évolutions futures.

🛠️ **Fichiers concernés** :
- `apps/client-portal/docs/maintenance-plan.md`
- `apps/client-portal/scripts/health-check.sh`
- `apps/client-portal/src/utils/featureFlags.ts`
- `apps/client-portal/migration/database-updates.sql`

🔄 **Comportement attendu** : Créer le plan de maintenance avec calendrier des mises à jour. Implémenter les health checks automatiques pour surveiller la santé de l'application. Configurer le système de feature flags pour les déploiements progressifs. Préparer les scripts de migration pour les évolutions futures. Documenter les procédures de maintenance et de dépannage.

⚙️ **Intégrations** : Intégration avec les outils de monitoring, synchronisation avec les plans de maintenance du Backoffice.

💡 **Tips Windsurf** : Implémente un système de versioning sémantique pour les releases. Utilise des feature flags pour tester les nouvelles fonctionnalités. Assure-toi que les migrations de base de données sont réversibles. Planifie les fenêtres de maintenance avec communication aux utilisateurs.

---

## Conclusion

Ce guide de développement séquentiel pour le Client Portal Wedding Collection fournit une roadmap complète et détaillée pour créer une application client moderne, sécurisée, et parfaitement intégrée à l'écosystème ERP existant. L'approche séquentielle en quatre phases permet une montée en valeur progressive tout en validant l'architecture et les choix techniques à chaque étape.

La méthodologie Windsurf appliquée garantit que chaque prompt est actionnable, avec un contexte technique clair, des objectifs précis, et des conseils d'implémentation spécifiques. L'intégration harmonieuse avec le Backoffice et la préparation pour les intégrations futures assurent la cohérence de l'ensemble de l'ERP Wedding Collection.

Le respect des conventions techniques établies, l'attention portée à la sécurité et aux performances, ainsi que la documentation complète facilitent la maintenance et l'évolution future de l'application. Ce guide constitue une base solide pour le développement d'une application client de qualité professionnelle qui répondra aux attentes des utilisateurs et aux exigences métier de Wedding Collection.

