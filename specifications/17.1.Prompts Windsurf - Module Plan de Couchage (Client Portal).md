# Prompts Windsurf - Module Plan de Couchage (Client Portal)

## ğŸ¯ Vue d'Ensemble

Ce document fournit une sÃ©quence complÃ¨te de **14 prompts Windsurf** pour dÃ©velopper le **Module Plan de Couchage** du Client Portal Wedding Collection. Chaque prompt est optimisÃ© pour exploiter les capacitÃ©s spÃ©cifiques de Windsurf (Cascade, Supercomplete, MCP) et s'intÃ¨gre parfaitement avec l'Ã©cosystÃ¨me Client Portal existant.

### ğŸ“‹ Architecture Cible
```
apps/client-portal/src/
â”œâ”€â”€ components/accommodation/     # Composants du module Plan de Couchage
â”œâ”€â”€ pages/accommodation/         # Pages du module
â”œâ”€â”€ hooks/accommodation/         # Hooks spÃ©cialisÃ©s
â”œâ”€â”€ services/accommodation/      # Services API
â””â”€â”€ types/accommodation/         # Types TypeScript
```

### ğŸ”„ IntÃ©grations Client Portal
- **Module InvitÃ©s** : Synchronisation des donnÃ©es d'invitÃ©s pour attribution
- **Module Plan de Salle** : Navigation contextuelle et cohÃ©rence UX
- **Module Ã‰vÃ©nement** : Contexte temporel et informations gÃ©nÃ©rales
- **Backoffice** : DonnÃ©es des lieux et chambres disponibles

---

## ğŸ“š Section 1 : Initialisation (4 prompts)

### Prompt 1 : CrÃ©ation du SchÃ©ma de Base de DonnÃ©es Accommodation

ğŸ¯ **But** : CrÃ©er le schÃ©ma de base de donnÃ©es complet pour le module Plan de Couchage avec tables, relations, contraintes et politiques RLS.

ğŸ§  **Contexte technique** : Extension de la base Supabase existante avec nouvelles tables spÃ©cialisÃ©es pour la gestion des plans de couchage, intÃ©gration avec les modules existants du Client Portal.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `supabase/migrations/[timestamp]_create_accommodation_schema.sql`
- `supabase/migrations/[timestamp]_create_accommodation_rls.sql`
- `supabase/migrations/[timestamp]_create_accommodation_functions.sql`

ğŸ”„ **Comportement attendu** :
- Table `accommodation_plan` avec versionnement et workflow d'approbation
- Table `selected_room_configuration` pour configurations de chambres par plan
- Table `guest_accommodation` pour attributions invitÃ©s-chambres avec dates
- Table `accommodation_logistics` pour besoins logistiques calculÃ©s
- Relations FK avec tables existantes (events, guests, venues)
- Contraintes d'intÃ©gritÃ© et validation mÃ©tier
- Politiques RLS pour sÃ©curitÃ© granulaire par client
- Fonctions RPC pour calculs logistiques et duplication de plans
- Triggers pour mise Ã  jour automatique des timestamps et calculs

âš™ï¸ **Interactions avec autres modules** :
- RÃ©fÃ©rence Ã  `events` pour contexte Ã©vÃ©nement
- RÃ©fÃ©rence Ã  `guests` pour donnÃ©es invitÃ©s
- RÃ©fÃ©rence Ã  `venues` et `rooms` pour donnÃ©es chambres
- IntÃ©gration avec systÃ¨me d'audit existant

ğŸ’¡ **Tips Windsurf** :
- Utilise MCP Supabase pour gÃ©nÃ©rer automatiquement les migrations
- Exploite Cascade pour analyser les schÃ©mas existants et assurer cohÃ©rence
- Configure les index pour optimiser les requÃªtes de recherche et filtrage

---

### Prompt 2 : GÃ©nÃ©ration des Types TypeScript et Validation Zod

ğŸ¯ **But** : GÃ©nÃ©rer les types TypeScript complets et schÃ©mas de validation Zod pour toutes les entitÃ©s du module Plan de Couchage.

ğŸ§  **Contexte technique** : Types strictement typÃ©s pour garantir la cohÃ©rence entre frontend et backend, avec validation robuste des donnÃ©es utilisateur.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/types/accommodation/index.ts`
- `apps/client-portal/src/types/accommodation/plan.ts`
- `apps/client-portal/src/types/accommodation/room.ts`
- `apps/client-portal/src/types/accommodation/guest.ts`
- `apps/client-portal/src/lib/validations/accommodation.ts`

ğŸ”„ **Comportement attendu** :
- Types TypeScript gÃ©nÃ©rÃ©s depuis schÃ©ma Supabase
- Interfaces pour AccommodationPlan, RoomConfiguration, GuestAccommodation
- Types pour Ã©tats UI (loading, error, success)
- Enums pour statuts, types de lits, prÃ©fÃ©rences
- SchÃ©mas Zod pour validation formulaires et API
- Types pour drag-and-drop et interactions UI
- Utilitaires de transformation et mapping
- Types pour exports et rapports

âš™ï¸ **Interactions avec autres modules** :
- Extension des types Guest existants avec donnÃ©es hÃ©bergement
- RÃ©utilisation des types Event et Venue
- CohÃ©rence avec types Plan de Salle

ğŸ’¡ **Tips Windsurf** :
- Utilise la gÃ©nÃ©ration automatique de types depuis Supabase
- Exploite Supercomplete pour cohÃ©rence avec types existants
- Configure la validation Zod avec messages d'erreur personnalisÃ©s

---

### Prompt 3 : Architecture des Services et Hooks Accommodation

ğŸ¯ **But** : CrÃ©er l'architecture des services API et hooks React pour la gestion complÃ¨te des plans de couchage.

ğŸ§  **Contexte technique** : Services robustes avec gestion d'erreurs, cache intelligent et hooks React optimisÃ©s pour performance et expÃ©rience utilisateur.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/services/accommodation/planService.ts`
- `apps/client-portal/src/services/accommodation/roomService.ts`
- `apps/client-portal/src/services/accommodation/guestService.ts`
- `apps/client-portal/src/hooks/accommodation/useAccommodationPlan.ts`
- `apps/client-portal/src/hooks/accommodation/useRoomConfiguration.ts`
- `apps/client-portal/src/hooks/accommodation/useGuestAssignment.ts`

ğŸ”„ **Comportement attendu** :
- Service planService avec CRUD complet et duplication
- Service roomService pour configuration chambres et calculs capacitÃ©
- Service guestService pour attribution et gestion prÃ©fÃ©rences
- Hook useAccommodationPlan avec cache et synchronisation temps rÃ©el
- Hook useRoomConfiguration avec validation contraintes
- Hook useGuestAssignment avec drag-and-drop et optimistic updates
- Gestion d'erreurs centralisÃ©e avec retry automatique
- Cache intelligent avec invalidation sÃ©lective

âš™ï¸ **Interactions avec autres modules** :
- IntÃ©gration avec services Guest et Event existants
- Synchronisation avec module Plan de Salle
- Utilisation des hooks d'authentification

ğŸ’¡ **Tips Windsurf** :
- Utilise React Query pour cache et synchronisation optimisÃ©s
- ImplÃ©mente les optimistic updates pour fluiditÃ© UX
- Configure les webhooks Supabase pour temps rÃ©el

---

### Prompt 4 : Configuration des Contextes et Ã‰tat Global

ğŸ¯ **But** : Configurer les contextes React et la gestion d'Ã©tat global pour le module Plan de Couchage avec performance optimisÃ©e.

ğŸ§  **Contexte technique** : Architecture d'Ã©tat modulaire avec contextes spÃ©cialisÃ©s et optimisations pour Ã©viter les re-renders inutiles.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/contexts/accommodation/AccommodationPlanContext.tsx`
- `apps/client-portal/src/contexts/accommodation/RoomConfigurationContext.tsx`
- `apps/client-portal/src/contexts/accommodation/GuestAssignmentContext.tsx`
- `apps/client-portal/src/contexts/accommodation/AccommodationProvider.tsx`

ğŸ”„ **Comportement attendu** :
- AccommodationPlanContext pour Ã©tat global du plan actuel
- RoomConfigurationContext pour configuration chambres et filtres
- GuestAssignmentContext pour Ã©tat drag-and-drop et sÃ©lections
- Provider principal avec composition des contextes
- Optimisations avec useMemo et useCallback
- Persistance locale pour brouillons et prÃ©fÃ©rences
- Gestion des Ã©tats de chargement et d'erreur
- Actions typÃ©es avec useReducer pour logique complexe

âš™ï¸ **Interactions avec autres modules** :
- IntÃ©gration avec AuthContext existant
- Synchronisation avec EventContext
- Partage d'Ã©tat avec module Plan de Salle

ğŸ’¡ **Tips Windsurf** :
- Utilise la composition de contextes pour Ã©viter prop drilling
- ImplÃ©mente la mÃ©morisation pour optimiser les performances
- Configure la persistance avec localStorage pour UX amÃ©liorÃ©e

---

## ğŸ—ï¸ Section 2 : FonctionnalitÃ©s Principales (4 prompts)

### Prompt 5 : Interface de Gestion des Plans de Couchage

ğŸ¯ **But** : DÃ©velopper l'interface principale de gestion des plans de couchage avec crÃ©ation, Ã©dition, versionnement et workflow d'approbation.

ğŸ§  **Contexte technique** : Interface centrale du module avec navigation intuitive, gestion des versions et workflow collaboratif pour validation des plans.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/pages/accommodation/AccommodationPlansPage.tsx`
- `apps/client-portal/src/components/accommodation/PlanList.tsx`
- `apps/client-portal/src/components/accommodation/PlanCard.tsx`
- `apps/client-portal/src/components/accommodation/CreatePlanModal.tsx`
- `apps/client-portal/src/components/accommodation/PlanVersionHistory.tsx`

ğŸ”„ **Comportement attendu** :
- Liste des plans avec filtres par statut et date
- Cartes de plans avec aperÃ§u et actions rapides
- Modal de crÃ©ation avec templates et duplication
- Historique des versions avec diff visuel
- Workflow d'approbation avec commentaires
- Actions en lot pour gestion multiple
- Recherche et tri avancÃ©s
- Export des plans en diffÃ©rents formats

âš™ï¸ **Interactions avec autres modules** :
- Navigation vers module Plan de Salle
- Synchronisation avec donnÃ©es Event
- IntÃ©gration avec systÃ¨me de notifications

ğŸ’¡ **Tips Windsurf** :
- Utilise les composants shadcn/ui pour cohÃ©rence visuelle
- ImplÃ©mente la virtualisation pour performance avec nombreux plans
- Configure les shortcuts clavier pour productivitÃ©

---



### Prompt 6 : Interface de Configuration des Chambres

ğŸ¯ **But** : DÃ©velopper l'interface de configuration des chambres avec visualisation, gestion des types de lits et capacitÃ©s.

ğŸ§  **Contexte technique** : Interface visuelle permettant aux clients de dÃ©finir la configuration exacte de chaque chambre disponible pour leur Ã©vÃ©nement.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/pages/accommodation/RoomConfigurationPage.tsx`
- `apps/client-portal/src/components/accommodation/RoomList.tsx`
- `apps/client-portal/src/components/accommodation/RoomDetailEditor.tsx`
- `apps/client-portal/src/components/accommodation/BedTypeSelector.tsx`
- `apps/client-portal/src/components/accommodation/RoomCapacityCalculator.tsx`

ğŸ”„ **Comportement attendu** :
- Liste des chambres disponibles avec filtres par bÃ¢timent/Ã©tage
- Ã‰diteur visuel pour chaque chambre avec placement des lits
- SÃ©lection des types de lits (simple, double, queen, king, etc.)
- Calcul automatique de la capacitÃ© maximale par chambre
- Gestion des caractÃ©ristiques spÃ©ciales (accessibilitÃ©, vue, etc.)
- Sauvegarde automatique des configurations
- Validation des contraintes (espace minimum, etc.)
- AperÃ§u 3D simplifiÃ© (optionnel)

âš™ï¸ **Interactions avec autres modules** :
- DonnÃ©es initiales des chambres depuis module Lieu (Backoffice)
- Impact sur calculs logistiques
- Utilisation dans interface d'attribution

ğŸ’¡ **Tips Windsurf** :
- Utilise React Konva ou une librairie similaire pour l'Ã©diteur visuel
- ImplÃ©mente la sauvegarde automatique avec debouncing
- Configure les rÃ¨gles de validation mÃ©tier cÃ´tÃ© serveur

---

### Prompt 7 : Interface d'Attribution des InvitÃ©s (Drag-and-Drop)

ğŸ¯ **But** : CrÃ©er l'interface principale d'attribution des invitÃ©s aux chambres avec drag-and-drop intuitif et validation des contraintes.

ğŸ§  **Contexte technique** : CÅ“ur fonctionnel du module nÃ©cessitant une UX fluide, des validations en temps rÃ©el et une gestion efficace des grands volumes de donnÃ©es.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/pages/accommodation/GuestAssignmentPage.tsx`
- `apps/client-portal/src/components/accommodation/GuestListPanel.tsx`
- `apps/client-portal/src/components/accommodation/RoomAssignmentGrid.tsx`
- `apps/client-portal/src/components/accommodation/GuestCardDraggable.tsx`
- `apps/client-portal/src/components/accommodation/RoomDropTarget.tsx`

ğŸ”„ **Comportement attendu** :
- Panneau latÃ©ral avec liste des invitÃ©s non assignÃ©s (filtrable/triable)
- Grille visuelle reprÃ©sentant les chambres et leurs lits
- Drag-and-drop des invitÃ©s depuis la liste vers les lits
- Validation en temps rÃ©el (capacitÃ©, prÃ©fÃ©rences, compatibilitÃ©)
- Feedback visuel pour attributions valides/invalides
- Gestion des groupes d'invitÃ©s (familles, amis)
- Attribution rapide par groupe
- Indicateurs visuels (statut, prÃ©fÃ©rences)
- Sauvegarde automatique avec optimistic updates

âš™ï¸ **Interactions avec autres modules** :
- DonnÃ©es invitÃ©s depuis module InvitÃ©s
- Configuration chambres depuis Ã©tape prÃ©cÃ©dente
- Impact sur calculs logistiques

ğŸ’¡ **Tips Windsurf** :
- Utilise React DnD pour implÃ©mentation drag-and-drop robuste
- Optimise les performances avec virtualisation et mÃ©morisation
- ImplÃ©mente les optimistic updates pour fluiditÃ© maximale

---

### Prompt 8 : Calcul et Affichage des Besoins Logistiques

ğŸ¯ **But** : ImplÃ©menter le calcul automatique et l'affichage des besoins logistiques (draps, serviettes, etc.) basÃ©s sur les attributions.

ğŸ§  **Contexte technique** : FonctionnalitÃ© clÃ© pour la prÃ©paration opÃ©rationnelle avec calculs cÃ´tÃ© serveur et affichage clair pour les Ã©quipes logistiques.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/pages/accommodation/LogisticsPage.tsx`
- `apps/client-portal/src/components/accommodation/LogisticsSummary.tsx`
- `apps/client-portal/src/components/accommodation/LogisticsTable.tsx`
- `apps/client-portal/src/services/accommodation/logisticsService.ts` (appel RPC)
- `supabase/migrations/[timestamp]_create_accommodation_functions.sql` (fonction RPC)

ğŸ”„ **Comportement attendu** :
- Fonction RPC Supabase pour calculer les besoins logistiques
- Tableau rÃ©capitulatif des besoins par type d'article
- Vue dÃ©taillÃ©e par chambre ou par invitÃ©
- Filtres par date (check-in/check-out)
- Export des besoins en CSV/Excel
- Impression d'Ã©tiquettes pour prÃ©paration
- Mise Ã  jour automatique lors de modifications d'attribution
- Gestion des stocks (optionnel, via Backoffice)

âš™ï¸ **Interactions avec autres modules** :
- BasÃ© sur donnÃ©es GuestAccommodation et RoomConfiguration
- Export vers module Planning MÃ©nage (Backoffice)
- IntÃ©gration avec systÃ¨me de reporting

ğŸ’¡ **Tips Windsurf** :
- ImplÃ©mente la logique de calcul dans une fonction RPC PostgreSQL pour performance
- Utilise React Table pour affichage tabulaire avancÃ©
- Configure la mise Ã  jour automatique avec Supabase Realtime ou polling

---



## ğŸ¨ Section 3 : FonctionnalitÃ©s Secondaires (3 prompts)

### Prompt 9 : SystÃ¨me d'Export et de Rapports

ğŸ¯ **But** : DÃ©velopper le systÃ¨me complet d'export et de gÃ©nÃ©ration de rapports pour les plans de couchage avec formats multiples.

ğŸ§  **Contexte technique** : FonctionnalitÃ© essentielle pour communication avec invitÃ©s et Ã©quipes opÃ©rationnelles, nÃ©cessitant gÃ©nÃ©ration cÃ´tÃ© serveur et templates personnalisables.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/components/accommodation/ExportModal.tsx`
- `apps/client-portal/src/services/accommodation/exportService.ts`
- `apps/client-portal/src/utils/accommodation/reportGenerator.ts`
- `supabase/functions/generate-accommodation-report/index.ts` (Edge Function)

ğŸ”„ **Comportement attendu** :
- Modal d'export avec sÃ©lection de format (PDF, Excel, CSV)
- Templates personnalisables pour diffÃ©rents destinataires
- Rapport complet pour Ã©quipe logistique
- Liste d'attribution pour invitÃ©s
- Ã‰tiquettes pour prÃ©paration des chambres
- Export CSV pour intÃ©gration avec autres systÃ¨mes
- GÃ©nÃ©ration asynchrone avec notification de fin
- Historique des exports avec tÃ©lÃ©chargement

âš™ï¸ **Interactions avec autres modules** :
- Utilisation des donnÃ©es de tous les composants du module
- IntÃ©gration avec systÃ¨me de notifications
- Partage avec module Communication (envoi aux invitÃ©s)

ğŸ’¡ **Tips Windsurf** :
- Utilise Supabase Edge Functions pour gÃ©nÃ©ration PDF cÃ´tÃ© serveur
- ImplÃ©mente les templates avec une librairie comme Puppeteer ou jsPDF
- Configure la gÃ©nÃ©ration asynchrone avec queue de traitement

---

### Prompt 10 : Interface de Collaboration et Commentaires

ğŸ¯ **But** : ImplÃ©menter les fonctionnalitÃ©s de collaboration avec commentaires, suggestions et workflow d'approbation.

ğŸ§  **Contexte technique** : FonctionnalitÃ©s collaboratives permettant aux diffÃ©rents acteurs (clients, wedding planners, Ã©quipe) de collaborer efficacement sur les plans.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/components/accommodation/CommentSystem.tsx`
- `apps/client-portal/src/components/accommodation/ApprovalWorkflow.tsx`
- `apps/client-portal/src/components/accommodation/ChangeHistory.tsx`
- `apps/client-portal/src/hooks/accommodation/useCollaboration.ts`

ğŸ”„ **Comportement attendu** :
- SystÃ¨me de commentaires contextuels par chambre ou invitÃ©
- Workflow d'approbation avec Ã©tapes configurables
- Historique des modifications avec diff visuel
- Notifications temps rÃ©el pour changements
- Suggestions d'amÃ©lioration automatiques
- Gestion des permissions par rÃ´le utilisateur
- Mode rÃ©vision avec validation/rejet
- IntÃ©gration avec systÃ¨me de notifications global

âš™ï¸ **Interactions avec autres modules** :
- Utilisation du systÃ¨me d'authentification et de rÃ´les
- IntÃ©gration avec module Notifications
- Synchronisation avec Backoffice pour validation finale

ğŸ’¡ **Tips Windsurf** :
- Utilise Supabase Realtime pour collaboration temps rÃ©el
- ImplÃ©mente les commentaires avec rich text editor
- Configure les permissions granulaires avec RLS

---

### Prompt 11 : IntÃ©gration avec Module Plan de Salle

ğŸ¯ **But** : CrÃ©er l'intÃ©gration bidirectionnelle avec le module Plan de Salle pour navigation contextuelle et cohÃ©rence des donnÃ©es.

ğŸ§  **Contexte technique** : IntÃ©gration Ã©troite entre les deux modules de planification pour offrir une expÃ©rience utilisateur fluide et cohÃ©rente.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/components/accommodation/SeatingPlanIntegration.tsx`
- `apps/client-portal/src/hooks/accommodation/useSeatingPlanSync.ts`
- `apps/client-portal/src/services/accommodation/integrationService.ts`

ğŸ”„ **Comportement attendu** :
- Navigation contextuelle entre plan de salle et plan de couchage
- Synchronisation des donnÃ©es invitÃ©s entre les deux modules
- Indicateurs visuels de cohÃ©rence/incohÃ©rence
- Suggestions d'attribution basÃ©es sur plan de salle
- Vue combinÃ©e optionnelle (split screen)
- Validation croisÃ©e des attributions
- Mise Ã  jour automatique lors de changements
- RÃ©solution assistÃ©e des conflits

âš™ï¸ **Interactions avec autres modules** :
- IntÃ©gration directe avec module Plan de Salle
- Partage des donnÃ©es invitÃ©s et Ã©vÃ©nement
- Utilisation des mÃªmes services de base

ğŸ’¡ **Tips Windsurf** :
- Utilise les hooks partagÃ©s entre les deux modules
- ImplÃ©mente la synchronisation avec Ã©vÃ©nements personnalisÃ©s
- Configure la validation croisÃ©e avec rÃ¨gles mÃ©tier

---

## ğŸš€ Section 4 : Ã‰volutions Futures (3 prompts)

### Prompt 12 : Intelligence Artificielle et Suggestions Automatiques

ğŸ¯ **But** : ImplÃ©menter des fonctionnalitÃ©s d'IA pour suggestions automatiques d'attribution et optimisation des plans de couchage.

ğŸ§  **Contexte technique** : FonctionnalitÃ©s avancÃ©es utilisant l'IA pour amÃ©liorer l'efficacitÃ© de la planification et proposer des optimisations intelligentes.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/services/accommodation/aiService.ts`
- `apps/client-portal/src/components/accommodation/AISuggestions.tsx`
- `apps/client-portal/src/utils/accommodation/optimizationAlgorithms.ts`
- `supabase/functions/ai-accommodation-optimizer/index.ts` (Edge Function)

ğŸ”„ **Comportement attendu** :
- Algorithme d'attribution automatique basÃ© sur prÃ©fÃ©rences
- Suggestions d'optimisation pour maximiser satisfaction
- DÃ©tection automatique des conflits potentiels
- Recommandations basÃ©es sur historique d'Ã©vÃ©nements similaires
- Analyse prÃ©dictive des besoins logistiques
- Optimisation automatique de l'occupation des chambres
- Apprentissage des prÃ©fÃ©rences utilisateur
- IntÃ©gration avec services d'IA externes (OpenAI, etc.)

âš™ï¸ **Interactions avec autres modules** :
- Utilisation des donnÃ©es historiques de tous les modules
- IntÃ©gration avec module Analytics pour apprentissage
- Connexion avec services d'IA externes

ğŸ’¡ **Tips Windsurf** :
- Utilise Supabase Edge Functions pour traitement IA cÃ´tÃ© serveur
- ImplÃ©mente les algorithmes d'optimisation avec des librairies spÃ©cialisÃ©es
- Configure l'apprentissage automatique avec feedback utilisateur

---

### Prompt 13 : RÃ©alitÃ© AugmentÃ©e et Visualisation 3D

ğŸ¯ **But** : DÃ©velopper des fonctionnalitÃ©s de visualisation 3D et rÃ©alitÃ© augmentÃ©e pour une expÃ©rience immersive de planification.

ğŸ§  **Contexte technique** : Technologies Ã©mergentes pour offrir une expÃ©rience de planification rÃ©volutionnaire avec visualisation immersive des espaces.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/components/accommodation/Room3DViewer.tsx`
- `apps/client-portal/src/components/accommodation/ARVisualization.tsx`
- `apps/client-portal/src/services/accommodation/3dService.ts`
- `apps/client-portal/src/utils/accommodation/3dRenderer.ts`

ğŸ”„ **Comportement attendu** :
- Visualisation 3D des chambres avec placement des lits
- Mode rÃ©alitÃ© augmentÃ©e pour visualisation in-situ
- Visite virtuelle des espaces d'hÃ©bergement
- Simulation de l'occupation des chambres
- IntÃ©gration avec donnÃ©es de gÃ©olocalisation
- Export de modÃ¨les 3D pour partage
- CompatibilitÃ© avec casques VR/AR
- Optimisation pour appareils mobiles

âš™ï¸ **Interactions avec autres modules** :
- Utilisation des donnÃ©es de configuration des chambres
- IntÃ©gration avec module Lieu pour modÃ¨les 3D
- Connexion avec services de gÃ©olocalisation

ğŸ’¡ **Tips Windsurf** :
- Utilise Three.js ou React Three Fiber pour rendu 3D
- ImplÃ©mente la rÃ©alitÃ© augmentÃ©e avec WebXR ou AR.js
- Configure le lazy loading pour optimiser les performances

---

### Prompt 14 : IntÃ©gration IoT et Automatisation

ğŸ¯ **But** : PrÃ©parer l'intÃ©gration avec objets connectÃ©s et systÃ¨mes d'automatisation pour gestion intelligente de l'hÃ©bergement.

ğŸ§  **Contexte technique** : PrÃ©paration pour l'avenir avec intÃ©gration IoT pour automatisation de la prÃ©paration des chambres et suivi en temps rÃ©el.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/services/accommodation/iotService.ts`
- `apps/client-portal/src/components/accommodation/IoTDashboard.tsx`
- `apps/client-portal/src/hooks/accommodation/useIoTDevices.ts`
- `supabase/functions/iot-accommodation-handler/index.ts` (Edge Function)

ğŸ”„ **Comportement attendu** :
- Interface de gestion des dispositifs IoT par chambre
- Automatisation de la prÃ©paration des chambres
- Capteurs d'occupation et de tempÃ©rature
- ContrÃ´le automatique de l'Ã©clairage et climatisation
- Notifications automatiques de statut des chambres
- IntÃ©gration avec systÃ¨mes de domotique
- Tableau de bord temps rÃ©el des dispositifs
- Gestion des alertes et maintenance prÃ©ventive

âš™ï¸ **Interactions avec autres modules** :
- Synchronisation avec planning de prÃ©paration
- IntÃ©gration avec module Planning MÃ©nage (Backoffice)
- Connexion avec systÃ¨mes de gestion technique du bÃ¢timent

ğŸ’¡ **Tips Windsurf** :
- Utilise MQTT ou WebSockets pour communication IoT
- ImplÃ©mente les protocoles standard (Zigbee, Z-Wave, etc.)
- Configure la sÃ©curitÃ© renforcÃ©e pour dispositifs connectÃ©s

---

## ğŸ¯ RÃ©sumÃ© et Ordre d'ExÃ©cution

### âœ… Ordre d'ExÃ©cution RecommandÃ©

1. **Phase Initialisation (Prompts 1-4)** : Fondations techniques solides
2. **Phase FonctionnalitÃ©s Principales (Prompts 5-8)** : CÅ“ur fonctionnel du module
3. **Phase FonctionnalitÃ©s Secondaires (Prompts 9-11)** : Enrichissement de l'expÃ©rience
4. **Phase Ã‰volutions Futures (Prompts 12-14)** : Innovations et technologies Ã©mergentes

### ğŸ”§ Points d'Attention SpÃ©cifiques

- **Performance** : Optimisation critique pour drag-and-drop avec nombreux invitÃ©s
- **UX** : Interface intuitive essentielle pour adoption utilisateur
- **IntÃ©gration** : Synchronisation parfaite avec module Plan de Salle
- **Validation** : Contraintes mÃ©tier robustes pour Ã©viter erreurs d'attribution

### ğŸš€ RÃ©sultat Final

Un module Plan de Couchage complet offrant :
- Interface drag-and-drop intuitive pour attribution des invitÃ©s
- Calcul automatique des besoins logistiques
- IntÃ©gration parfaite avec l'Ã©cosystÃ¨me Client Portal
- FonctionnalitÃ©s collaboratives avancÃ©es
- Exports et rapports professionnels
- Ã‰volutivitÃ© vers technologies Ã©mergentes

**Le module Plan de Couchage enrichira significativement l'expÃ©rience Client Portal en simplifiant la gestion complexe de l'hÃ©bergement des invitÃ©s ! ğŸ‰**

