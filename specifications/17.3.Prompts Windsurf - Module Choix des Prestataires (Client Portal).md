# Prompts Windsurf - Module Choix des Prestataires (Client Portal)

## ğŸ¯ Vue d'Ensemble

Ce document fournit une sÃ©quence complÃ¨te de **15 prompts Windsurf** pour dÃ©velopper le **Module Choix des Prestataires** du Client Portal Wedding Collection. Chaque prompt est optimisÃ© pour exploiter les capacitÃ©s spÃ©cifiques de Windsurf (Cascade, Supercomplete, MCP) et s'intÃ¨gre parfaitement avec l'Ã©cosystÃ¨me Client Portal existant et le Vendor Portal.

### ğŸ“‹ Architecture Cible
```
apps/client-portal/src/
â”œâ”€â”€ components/choix-prestataires/     # Composants du module Choix des Prestataires
â”œâ”€â”€ pages/choix-prestataires/          # Pages du module
â”œâ”€â”€ hooks/choix-prestataires/          # Hooks spÃ©cialisÃ©s
â”œâ”€â”€ services/choix-prestataires/       # Services API
â””â”€â”€ types/choix-prestataires/          # Types TypeScript
```

### ğŸ”„ IntÃ©grations Critiques
- **Vendor Portal** : Synchronisation bidirectionnelle complÃ¨te (demandes, devis, messagerie)
- **Module Ã‰vÃ©nement** : Contexte et informations de base de l'Ã©vÃ©nement
- **Module Budget** : IntÃ©gration des coÃ»ts et suivi budgÃ©taire
- **Module Planning** : Coordination des prestations avec le planning
- **Backoffice** : Gestion des prestataires partenaires et validation

---

## ğŸ“š Section 1 : Initialisation (4 prompts)

### Prompt 1 : CrÃ©ation du SchÃ©ma de Base de DonnÃ©es Choix des Prestataires

ğŸ¯ **But** : CrÃ©er le schÃ©ma de base de donnÃ©es complet pour le module Choix des Prestataires avec tables, relations, contraintes et politiques RLS pour synchronisation avec Vendor Portal.

ğŸ§  **Contexte technique** : Extension de la base Supabase existante avec nouvelles tables spÃ©cialisÃ©es pour la gestion des prestataires, demandes de devis, messagerie et synchronisation bidirectionnelle avec le Vendor Portal.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `supabase/migrations/[timestamp]_create_vendor_selection_schema.sql`
- `supabase/migrations/[timestamp]_create_vendor_selection_rls.sql`
- `supabase/migrations/[timestamp]_create_vendor_selection_functions.sql`

ğŸ”„ **Comportement attendu** :
- Table `vendors` avec informations complÃ¨tes des prestataires partenaires
- Table `vendor_services` pour catalogue des services et tarifications
- Table `client_vendor_selections` pour gestion des favoris et sÃ©lections
- Table `client_quote_requests` pour demandes de devis avec statuts
- Table `vendor_quotes` pour devis reÃ§us avec comparaison et validation
- Table `client_vendor_messages` pour messagerie bidirectionnelle temps rÃ©el
- Table `vendor_availability` pour gestion des disponibilitÃ©s
- Table `vendor_reviews` pour Ã©valuations post-Ã©vÃ©nement
- Relations FK avec tables existantes (events, clients, budgets)
- Contraintes d'intÃ©gritÃ© et validation mÃ©tier (budgets, dates)
- Politiques RLS pour sÃ©curitÃ© granulaire par client et prestataire
- Fonctions RPC pour recherche avancÃ©e et calculs de compatibilitÃ©
- Triggers pour synchronisation automatique avec Vendor Portal

âš™ï¸ **Interactions avec autres modules** :
- RÃ©fÃ©rence Ã  `events` pour contexte Ã©vÃ©nement et contraintes
- RÃ©fÃ©rence Ã  `budgets` pour intÃ©gration financiÃ¨re
- RÃ©fÃ©rence Ã  `planning` pour coordination temporelle
- Synchronisation bidirectionnelle avec Vendor Portal

ğŸ’¡ **Tips Windsurf** :
- Utilise MCP Supabase pour gÃ©nÃ©rer automatiquement les migrations
- Exploite Cascade pour analyser les schÃ©mas existants et assurer cohÃ©rence
- Configure les index pour optimiser les requÃªtes de recherche et filtrage

---

### Prompt 2 : GÃ©nÃ©ration des Types TypeScript et Validation Zod

ğŸ¯ **But** : GÃ©nÃ©rer les types TypeScript complets et schÃ©mas de validation Zod pour toutes les entitÃ©s du module Choix des Prestataires avec synchronisation Vendor Portal.

ğŸ§  **Contexte technique** : Types strictement typÃ©s pour garantir la cohÃ©rence entre Client Portal et Vendor Portal, avec validation robuste des donnÃ©es utilisateur et gestion des flux bidirectionnels.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/types/choix-prestataires/index.ts`
- `apps/client-portal/src/types/choix-prestataires/vendors.ts`
- `apps/client-portal/src/types/choix-prestataires/quotes.ts`
- `apps/client-portal/src/types/choix-prestataires/messages.ts`
- `apps/client-portal/src/lib/validations/choix-prestataires.ts`

ğŸ”„ **Comportement attendu** :
- Types TypeScript gÃ©nÃ©rÃ©s depuis schÃ©ma Supabase
- Interfaces pour Vendor, VendorService, QuoteRequest, Quote
- Types pour messagerie temps rÃ©el et piÃ¨ces jointes
- Enums pour statuts (demandes, devis, messages), catÃ©gories prestataires
- Types pour filtres de recherche et critÃ¨res de sÃ©lection
- SchÃ©mas Zod pour validation formulaires et API
- Types pour synchronisation avec Vendor Portal
- Utilitaires de transformation et mapping de donnÃ©es
- Types pour notifications et Ã©vÃ©nements temps rÃ©el

âš™ï¸ **Interactions avec autres modules** :
- Extension des types Event existants avec donnÃ©es prestataires
- RÃ©utilisation des types Budget et Planning
- CohÃ©rence avec types des autres modules Client Portal
- CompatibilitÃ© avec types Vendor Portal

ğŸ’¡ **Tips Windsurf** :
- Utilise la gÃ©nÃ©ration automatique de types depuis Supabase
- Exploite Supercomplete pour cohÃ©rence avec types existants
- Configure la validation Zod avec contraintes mÃ©tier spÃ©cifiques

---

### Prompt 3 : Architecture des Services et Hooks Choix des Prestataires

ğŸ¯ **But** : CrÃ©er l'architecture des services API et hooks React pour la gestion complÃ¨te des prestataires avec synchronisation temps rÃ©el Vendor Portal.

ğŸ§  **Contexte technique** : Services robustes avec gestion d'erreurs, cache intelligent et hooks React optimisÃ©s pour performance et synchronisation bidirectionnelle avec le Vendor Portal.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/services/choix-prestataires/vendorService.ts`
- `apps/client-portal/src/services/choix-prestataires/quoteService.ts`
- `apps/client-portal/src/services/choix-prestataires/messageService.ts`
- `apps/client-portal/src/hooks/choix-prestataires/useVendors.ts`
- `apps/client-portal/src/hooks/choix-prestataires/useQuotes.ts`
- `apps/client-portal/src/hooks/choix-prestataires/useVendorMessages.ts`

ğŸ”„ **Comportement attendu** :
- Service vendorService avec recherche, filtrage et gestion favoris
- Service quoteService pour demandes, rÃ©ception et gestion des devis
- Service messageService pour communication temps rÃ©el avec prestataires
- Hook useVendors avec cache et recherche optimisÃ©e
- Hook useQuotes avec synchronisation temps rÃ©el et notifications
- Hook useVendorMessages avec messagerie bidirectionnelle
- Gestion d'erreurs centralisÃ©e avec retry automatique
- Cache intelligent avec invalidation sÃ©lective
- Support des mises Ã  jour collaboratives temps rÃ©el
- IntÃ©gration webhooks pour synchronisation Vendor Portal

âš™ï¸ **Interactions avec autres modules** :
- IntÃ©gration avec services Event et Budget existants
- Synchronisation avec module Planning pour coordination
- Utilisation des hooks d'authentification et permissions
- Communication bidirectionnelle avec Vendor Portal

ğŸ’¡ **Tips Windsurf** :
- Utilise React Query pour cache et synchronisation optimisÃ©s
- ImplÃ©mente les optimistic updates pour fluiditÃ© UX
- Configure Supabase Realtime pour collaboration temps rÃ©el

---

### Prompt 4 : Configuration des Contextes et Ã‰tat Global Prestataires

ğŸ¯ **But** : Configurer les contextes React et la gestion d'Ã©tat global pour le module Choix des Prestataires avec optimisations performance et synchronisation.

ğŸ§  **Contexte technique** : Architecture d'Ã©tat modulaire avec contextes spÃ©cialisÃ©s et optimisations pour Ã©viter les re-renders inutiles, gestion des sÃ©lections et synchronisation temps rÃ©el.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/contexts/choix-prestataires/VendorSelectionContext.tsx`
- `apps/client-portal/src/contexts/choix-prestataires/QuoteManagementContext.tsx`
- `apps/client-portal/src/contexts/choix-prestataires/VendorMessagingContext.tsx`
- `apps/client-portal/src/contexts/choix-prestataires/VendorProvider.tsx`

ğŸ”„ **Comportement attendu** :
- VendorSelectionContext pour Ã©tat global des prestataires et favoris
- QuoteManagementContext pour gestion des demandes et devis
- VendorMessagingContext pour messagerie temps rÃ©el
- Provider principal avec composition des contextes
- Optimisations avec useMemo et useCallback pour performance
- Persistance locale pour prÃ©fÃ©rences de recherche et filtres
- Gestion des Ã©tats de chargement et d'erreur
- Actions typÃ©es avec useReducer pour logique complexe
- Support des notifications temps rÃ©el et synchronisation

âš™ï¸ **Interactions avec autres modules** :
- IntÃ©gration avec AuthContext existant
- Synchronisation avec EventContext et BudgetContext
- Partage d'Ã©tat avec module Planning pour coordination
- Communication avec Vendor Portal via contextes

ğŸ’¡ **Tips Windsurf** :
- Utilise la composition de contextes pour Ã©viter prop drilling
- ImplÃ©mente la mÃ©morisation pour optimiser les performances
- Configure la persistance avec localStorage pour UX amÃ©liorÃ©e

---

## ğŸ—ï¸ Section 2 : FonctionnalitÃ©s Principales (5 prompts)

### Prompt 5 : Catalogue et Recherche AvancÃ©e des Prestataires

ğŸ¯ **But** : DÃ©velopper l'interface de catalogue des prestataires avec recherche avancÃ©e, filtrage multicritÃ¨res et systÃ¨me de favoris.

ğŸ§  **Contexte technique** : Interface complexe nÃ©cessitant une gestion optimisÃ©e des performances pour affichage de nombreux prestataires avec filtres dynamiques et recherche temps rÃ©el.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/pages/choix-prestataires/CataloguePage.tsx`
- `apps/client-portal/src/components/choix-prestataires/VendorCatalog.tsx`
- `apps/client-portal/src/components/choix-prestataires/VendorCard.tsx`
- `apps/client-portal/src/components/choix-prestataires/VendorFilters.tsx`
- `apps/client-portal/src/components/choix-prestataires/VendorSearch.tsx`

ğŸ”„ **Comportement attendu** :
- Catalogue principal avec affichage en grille responsive
- Recherche textuelle avec suggestions et autocomplÃ©tion
- Filtres avancÃ©s (catÃ©gorie, budget, localisation, disponibilitÃ©)
- Tri par pertinence, prix, note, distance
- SystÃ¨me de favoris avec ajout/retrait rapide
- Pagination ou scroll infini pour performance
- PrÃ©visualisation rapide des prestataires
- IntÃ©gration avec gÃ©olocalisation pour distance
- Sauvegarde des prÃ©fÃ©rences de recherche

âš™ï¸ **Interactions avec autres modules** :
- Utilisation des donnÃ©es d'Ã©vÃ©nement pour filtrage contextuel
- IntÃ©gration avec module Budget pour filtres prix
- Coordination avec module Planning pour disponibilitÃ©s
- Synchronisation avec donnÃ©es Vendor Portal

ğŸ’¡ **Tips Windsurf** :
- Utilise la virtualisation pour performance avec nombreux Ã©lÃ©ments
- ImplÃ©mente le debouncing pour recherche temps rÃ©el
- Configure la gÃ©olocalisation avec API Maps intÃ©grÃ©e

---


### Prompt 6 : Fiches DÃ©taillÃ©es des Prestataires

ğŸ¯ **But** : CrÃ©er les fiches dÃ©taillÃ©es des prestataires avec portfolios, services, tarifs et systÃ¨me de demande de devis intÃ©grÃ©.

ğŸ§  **Contexte technique** : Interface riche nÃ©cessitant gestion optimisÃ©e des mÃ©dias, galeries interactives et formulaires contextuels pour demandes de devis.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/pages/choix-prestataires/VendorDetailPage.tsx`
- `apps/client-portal/src/components/choix-prestataires/VendorProfile.tsx`
- `apps/client-portal/src/components/choix-prestataires/VendorPortfolio.tsx`
- `apps/client-portal/src/components/choix-prestataires/VendorServices.tsx`
- `apps/client-portal/src/components/choix-prestataires/QuoteRequestButton.tsx`

ğŸ”„ **Comportement attendu** :
- Fiche complÃ¨te avec informations prestataire et contact
- Galerie portfolio avec zoom et navigation fluide
- Liste des services avec descriptions et tarifs indicatifs
- Calendrier de disponibilitÃ©s en temps rÃ©el
- Bouton de demande de devis contextuel
- SystÃ¨me d'Ã©valuation et avis clients
- Partage de fiche via rÃ©seaux sociaux ou email
- Ajout/retrait des favoris avec feedback visuel
- Historique des interactions avec le prestataire

âš™ï¸ **Interactions avec autres modules** :
- RÃ©cupÃ©ration des donnÃ©es d'Ã©vÃ©nement pour contextualisation
- IntÃ©gration avec module Budget pour vÃ©rification compatibilitÃ©
- Synchronisation avec Vendor Portal pour donnÃ©es temps rÃ©el
- Coordination avec module Planning pour disponibilitÃ©s

ğŸ’¡ **Tips Windsurf** :
- Utilise des composants optimisÃ©s pour galeries d'images
- ImplÃ©mente le lazy loading pour performance
- Configure la synchronisation temps rÃ©el pour disponibilitÃ©s

---

### Prompt 7 : SystÃ¨me de Demandes de Devis

ğŸ¯ **But** : DÃ©velopper le systÃ¨me complet de demandes de devis avec formulaires contextuels, suivi des statuts et notifications temps rÃ©el.

ğŸ§  **Contexte technique** : SystÃ¨me complexe nÃ©cessitant validation robuste, synchronisation avec Vendor Portal et gestion des workflows de demandes.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/components/choix-prestataires/QuoteRequestForm.tsx`
- `apps/client-portal/src/components/choix-prestataires/QuoteRequestCard.tsx`
- `apps/client-portal/src/components/choix-prestataires/QuoteRequestList.tsx`
- `apps/client-portal/src/pages/choix-prestataires/QuoteRequestsPage.tsx`
- `apps/client-portal/src/services/choix-prestataires/quoteRequestService.ts`

ğŸ”„ **Comportement attendu** :
- Formulaire de demande avec informations Ã©vÃ©nement prÃ©-remplies
- Champs spÃ©cifiques par catÃ©gorie de prestataire
- Upload de piÃ¨ces jointes et documents de rÃ©fÃ©rence
- Validation en temps rÃ©el et suggestions automatiques
- Envoi automatique vers Vendor Portal avec notifications
- Suivi des statuts (envoyÃ©e, vue, en cours, devis reÃ§u)
- Liste des demandes avec filtrage et recherche
- Relances automatiques et manuelles
- Historique complet des interactions

âš™ï¸ **Interactions avec autres modules** :
- Utilisation des donnÃ©es d'Ã©vÃ©nement pour prÃ©-remplissage
- IntÃ©gration avec module Budget pour contraintes financiÃ¨res
- Synchronisation bidirectionnelle avec Vendor Portal
- Coordination avec module Planning pour contraintes temporelles

ğŸ’¡ **Tips Windsurf** :
- Utilise des formulaires dynamiques avec validation Zod
- ImplÃ©mente les webhooks pour synchronisation Vendor Portal
- Configure les notifications push pour suivi temps rÃ©el

---

### Prompt 8 : Gestion et Comparaison des Devis

ğŸ¯ **But** : CrÃ©er l'interface de gestion des devis reÃ§us avec comparaison, acceptation/refus et demandes de modifications.

ğŸ§  **Contexte technique** : Interface complexe pour visualisation et comparaison de devis avec calculs automatiques et workflows d'approbation.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/components/choix-prestataires/QuoteCard.tsx`
- `apps/client-portal/src/components/choix-prestataires/QuoteComparison.tsx`
- `apps/client-portal/src/components/choix-prestataires/QuoteActions.tsx`
- `apps/client-portal/src/pages/choix-prestataires/QuotesPage.tsx`
- `apps/client-portal/src/utils/choix-prestataires/quoteCalculations.ts`

ğŸ”„ **Comportement attendu** :
- Affichage des devis avec dÃ©tails complets et piÃ¨ces jointes
- Interface de comparaison cÃ´te Ã  cÃ´te avec tableaux
- Calculs automatiques (totaux, Ã©carts, pourcentages)
- Actions d'acceptation/refus avec confirmations
- Formulaire de demande de modifications avec justifications
- Notifications automatiques vers Vendor Portal
- Historique des versions de devis
- Export PDF pour archivage et partage
- IntÃ©gration avec module Budget pour validation

âš™ï¸ **Interactions avec autres modules** :
- Synchronisation avec module Budget pour impact financier
- IntÃ©gration avec module Planning pour validation temporelle
- Communication bidirectionnelle avec Vendor Portal
- Coordination avec module Contrats pour suite du processus

ğŸ’¡ **Tips Windsurf** :
- Utilise des tableaux de comparaison optimisÃ©s
- ImplÃ©mente les calculs cÃ´tÃ© client avec validation serveur
- Configure les workflows d'approbation avec Ã©tats persistants

---

### Prompt 9 : Messagerie IntÃ©grÃ©e avec Prestataires

ğŸ¯ **But** : DÃ©velopper le systÃ¨me de messagerie temps rÃ©el bidirectionnelle entre clients et prestataires avec piÃ¨ces jointes et historique.

ğŸ§  **Contexte technique** : SystÃ¨me de messagerie complexe nÃ©cessitant synchronisation temps rÃ©el, gestion des piÃ¨ces jointes et interface conversationnelle intuitive.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/components/choix-prestataires/ChatWindow.tsx`
- `apps/client-portal/src/components/choix-prestataires/MessageList.tsx`
- `apps/client-portal/src/components/choix-prestataires/MessageInput.tsx`
- `apps/client-portal/src/components/choix-prestataires/ConversationList.tsx`
- `apps/client-portal/src/hooks/choix-prestataires/useRealTimeMessages.ts`

ğŸ”„ **Comportement attendu** :
- Interface de chat temps rÃ©el avec bulles de messages
- Liste des conversations avec aperÃ§u et statuts non lus
- Envoi de messages texte avec formatage basique
- Upload et partage de piÃ¨ces jointes (images, documents)
- Indicateurs de statut (envoyÃ©, livrÃ©, lu)
- Notifications push pour nouveaux messages
- Recherche dans l'historique des conversations
- Archivage et organisation des conversations
- Synchronisation bidirectionnelle avec Vendor Portal

âš™ï¸ **Interactions avec autres modules** :
- IntÃ©gration avec systÃ¨me de notifications global
- Synchronisation temps rÃ©el avec Vendor Portal
- Coordination avec module Ã‰vÃ©nement pour contexte
- Utilisation du systÃ¨me d'authentification existant

ğŸ’¡ **Tips Windsurf** :
- Utilise Supabase Realtime pour messagerie temps rÃ©el
- ImplÃ©mente la gestion des piÃ¨ces jointes avec Supabase Storage
- Configure les notifications push avec service workers

---

## ğŸ¨ Section 3 : FonctionnalitÃ©s Secondaires (3 prompts)

### Prompt 10 : Tableau de Bord et SynthÃ¨se des Prestataires

ğŸ¯ **But** : CrÃ©er le tableau de bord centralisÃ© pour vue d'ensemble des prestataires sÃ©lectionnÃ©s, demandes en cours et statuts globaux.

ğŸ§  **Contexte technique** : Interface de synthÃ¨se nÃ©cessitant agrÃ©gation de donnÃ©es et visualisations pour suivi global de l'avancement des sÃ©lections.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/pages/choix-prestataires/DashboardPage.tsx`
- `apps/client-portal/src/components/choix-prestataires/VendorsDashboard.tsx`
- `apps/client-portal/src/components/choix-prestataires/ProgressSummary.tsx`
- `apps/client-portal/src/components/choix-prestataires/BudgetImpact.tsx`
- `apps/client-portal/src/components/choix-prestataires/NextActions.tsx`

ğŸ”„ **Comportement attendu** :
- Vue d'ensemble des prestataires sÃ©lectionnÃ©s par catÃ©gorie
- Indicateurs de progression (demandes, devis, confirmations)
- RÃ©sumÃ© budgÃ©taire avec impact sur budget global
- Liste des actions prioritaires et Ã©chÃ©ances
- Notifications importantes et alertes
- Graphiques de rÃ©partition et Ã©volution
- Liens rapides vers actions frÃ©quentes
- Export de synthÃ¨se pour partage
- IntÃ©gration avec planning global de l'Ã©vÃ©nement

âš™ï¸ **Interactions avec autres modules** :
- AgrÃ©gation des donnÃ©es de tous les modules
- IntÃ©gration avec module Budget pour impact financier
- Synchronisation avec module Planning pour Ã©chÃ©ances
- Coordination avec module Ã‰vÃ©nement pour contexte global

ğŸ’¡ **Tips Windsurf** :
- Utilise des librairies de visualisation comme Chart.js
- ImplÃ©mente les calculs d'agrÃ©gation cÃ´tÃ© serveur
- Configure les mises Ã  jour temps rÃ©el pour donnÃ©es dynamiques

---

### Prompt 11 : SystÃ¨me de Notifications et Alertes

ğŸ¯ **But** : DÃ©velopper le systÃ¨me complet de notifications pour nouveaux devis, messages, changements de statut et rappels automatiques.

ğŸ§  **Contexte technique** : SystÃ¨me de notifications multi-canal nÃ©cessitant gestion des prÃ©fÃ©rences utilisateur et intÃ©gration avec services externes.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/components/choix-prestataires/NotificationCenter.tsx`
- `apps/client-portal/src/components/choix-prestataires/NotificationItem.tsx`
- `apps/client-portal/src/services/choix-prestataires/notificationService.ts`
- `apps/client-portal/src/hooks/choix-prestataires/useNotifications.ts`
- `supabase/functions/vendor-notifications/index.ts`

ğŸ”„ **Comportement attendu** :
- Centre de notifications avec liste chronologique
- Notifications push pour Ã©vÃ©nements critiques
- Emails automatiques pour actions importantes
- SMS pour urgences (optionnel selon prÃ©fÃ©rences)
- Personnalisation des prÃ©fÃ©rences de notification
- Marquage lu/non lu et archivage
- Groupement intelligent des notifications similaires
- Rappels automatiques pour actions en attente
- IntÃ©gration avec calendrier pour Ã©chÃ©ances

âš™ï¸ **Interactions avec autres modules** :
- IntÃ©gration avec systÃ¨me de notifications global
- Synchronisation avec Ã©vÃ©nements Vendor Portal
- Coordination avec module Planning pour rappels
- Utilisation des prÃ©fÃ©rences utilisateur existantes

ğŸ’¡ **Tips Windsurf** :
- Utilise Supabase Edge Functions pour notifications serveur
- ImplÃ©mente les service workers pour notifications push
- Configure les templates d'emails avec personnalisation

---

### Prompt 12 : IntÃ©grations Budget et Planning

ğŸ¯ **But** : CrÃ©er les intÃ©grations robustes avec les modules Budget et Planning pour synchronisation des coÃ»ts et coordination temporelle.

ğŸ§  **Contexte technique** : IntÃ©grations complexes nÃ©cessitant synchronisation bidirectionnelle et gestion des dÃ©pendances entre modules.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/services/choix-prestataires/integrationService.ts`
- `apps/client-portal/src/components/choix-prestataires/BudgetIntegration.tsx`
- `apps/client-portal/src/components/choix-prestataires/PlanningIntegration.tsx`
- `apps/client-portal/src/hooks/choix-prestataires/useModuleIntegration.ts`
- `supabase/functions/vendor-integration-sync/index.ts`

ğŸ”„ **Comportement attendu** :
- Synchronisation automatique des coÃ»ts avec module Budget
- Mise Ã  jour des postes budgÃ©taires lors d'acceptation de devis
- IntÃ©gration des prestations dans le planning Ã©vÃ©nement
- Validation des disponibilitÃ©s avec contraintes temporelles
- Alertes en cas de dÃ©passement budgÃ©taire
- Suggestions d'optimisation basÃ©es sur budget/planning
- Historique des modifications et impacts
- Rollback automatique en cas d'erreur
- Notifications croisÃ©es entre modules

âš™ï¸ **Interactions avec autres modules** :
- Synchronisation bidirectionnelle avec module Budget
- Coordination temporelle avec module Planning
- IntÃ©gration avec module Ã‰vÃ©nement pour contexte
- Communication avec Backoffice pour validation

ğŸ’¡ **Tips Windsurf** :
- Utilise des webhooks pour synchronisation temps rÃ©el
- ImplÃ©mente les transactions pour cohÃ©rence des donnÃ©es
- Configure les rollbacks automatiques pour sÃ©curitÃ©

---

## ğŸš€ Section 4 : Ã‰volutions Futures (3 prompts)

### Prompt 13 : Intelligence Artificielle et Recommandations

ğŸ¯ **But** : ImplÃ©menter des fonctionnalitÃ©s d'IA pour recommandations personnalisÃ©es de prestataires et optimisation automatique des sÃ©lections.

ğŸ§  **Contexte technique** : FonctionnalitÃ©s avancÃ©es utilisant l'IA pour amÃ©liorer l'expÃ©rience de sÃ©lection et proposer des optimisations basÃ©es sur l'historique et les prÃ©fÃ©rences.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/services/choix-prestataires/aiRecommendationService.ts`
- `apps/client-portal/src/components/choix-prestataires/AIRecommendations.tsx`
- `apps/client-portal/src/components/choix-prestataires/SmartFilters.tsx`
- `apps/client-portal/src/utils/choix-prestataires/recommendationAlgorithms.ts`
- `supabase/functions/ai-vendor-recommendations/index.ts`

ğŸ”„ **Comportement attendu** :
- Recommandations personnalisÃ©es basÃ©es sur profil et prÃ©fÃ©rences
- Suggestions de prestataires complÃ©mentaires
- Optimisation automatique budget/qualitÃ©
- PrÃ©diction de compatibilitÃ© avec style Ã©vÃ©nement
- Analyse des tendances et recommandations saisonniÃ¨res
- Apprentissage des prÃ©fÃ©rences utilisateur
- Comparaison intelligente avec Ã©vÃ©nements similaires
- Alertes proactives pour opportunitÃ©s
- IntÃ©gration avec services d'IA externes (OpenAI, etc.)

âš™ï¸ **Interactions avec autres modules** :
- Utilisation des donnÃ©es historiques de tous les modules
- IntÃ©gration avec module Analytics pour apprentissage
- Connexion avec services d'IA externes
- Coordination avec Vendor Portal pour donnÃ©es enrichies

ğŸ’¡ **Tips Windsurf** :
- Utilise Supabase Edge Functions pour traitement IA cÃ´tÃ© serveur
- ImplÃ©mente les algorithmes de recommandation avec librairies ML
- Configure l'apprentissage automatique avec feedback utilisateur

---

### Prompt 14 : Marketplace et FonctionnalitÃ©s AvancÃ©es

ğŸ¯ **But** : DÃ©velopper les fonctionnalitÃ©s marketplace avec nÃ©gociation en ligne, comparaison avancÃ©e et outils de collaboration.

ğŸ§  **Contexte technique** : FonctionnalitÃ©s avancÃ©es transformant la plateforme en vÃ©ritable marketplace avec outils de nÃ©gociation et collaboration.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/components/choix-prestataires/NegotiationTool.tsx`
- `apps/client-portal/src/components/choix-prestataires/AdvancedComparison.tsx`
- `apps/client-portal/src/components/choix-prestataires/CollaborationSpace.tsx`
- `apps/client-portal/src/services/choix-prestataires/marketplaceService.ts`
- `apps/client-portal/src/hooks/choix-prestataires/useNegotiation.ts`

ğŸ”„ **Comportement attendu** :
- Outil de nÃ©gociation structurÃ©e avec propositions/contre-propositions
- Comparaison avancÃ©e multi-critÃ¨res avec scoring
- Espace de collaboration pour Ã©quipe de planification
- SystÃ¨me d'enchÃ¨res inversÃ©es pour certaines catÃ©gories
- Outils de co-crÃ©ation avec prestataires
- Partage de moodboards et rÃ©fÃ©rences visuelles
- Simulation de scÃ©narios et alternatives
- IntÃ©gration avec outils de signature Ã©lectronique
- Marketplace de services complÃ©mentaires

âš™ï¸ **Interactions avec autres modules** :
- IntÃ©gration avec module Contrats pour finalisation
- Coordination avec module Planning pour optimisation
- Synchronisation avec Vendor Portal pour nÃ©gociation
- Utilisation des donnÃ©es de tous les modules

ğŸ’¡ **Tips Windsurf** :
- Utilise des composants de collaboration temps rÃ©el
- ImplÃ©mente les workflows de nÃ©gociation avec Ã©tats
- Configure les intÃ©grations avec services de signature

---

### Prompt 15 : Analytics et Optimisation de Performance

ğŸ¯ **But** : CrÃ©er un systÃ¨me d'analytics avancÃ© et d'optimisation de performance pour analyser l'utilisation et amÃ©liorer l'expÃ©rience de sÃ©lection.

ğŸ§  **Contexte technique** : SystÃ¨me de business intelligence pour extraire des insights des donnÃ©es d'utilisation et optimiser les performances du module.

ğŸ› ï¸ **Fichiers concernÃ©s** :
- `apps/client-portal/src/components/choix-prestataires/AnalyticsDashboard.tsx`
- `apps/client-portal/src/components/choix-prestataires/PerformanceMetrics.tsx`
- `apps/client-portal/src/services/choix-prestataires/analyticsService.ts`
- `apps/client-portal/src/utils/choix-prestataires/performanceOptimizer.ts`
- `supabase/functions/vendor-analytics/index.ts`

ğŸ”„ **Comportement attendu** :
- Dashboard d'analytics avec mÃ©triques d'utilisation
- Analyse des patterns de sÃ©lection et prÃ©fÃ©rences
- MÃ©triques de performance des recherches et filtres
- Optimisations automatiques basÃ©es sur l'usage
- Rapports de conversion et taux de satisfaction
- Analyse comparative des prestataires par performance
- DÃ©tection des goulots d'Ã©tranglement UX
- Suggestions d'amÃ©lioration basÃ©es sur les donnÃ©es
- IntÃ©gration avec outils de monitoring externes

âš™ï¸ **Interactions avec autres modules** :
- AgrÃ©gation des donnÃ©es de tous les modules
- IntÃ©gration avec module Analytics global
- Connexion avec systÃ¨mes de monitoring externes
- Coordination avec Vendor Portal pour mÃ©triques croisÃ©es

ğŸ’¡ **Tips Windsurf** :
- Utilise des librairies de visualisation comme Chart.js ou D3.js
- ImplÃ©mente les calculs d'analytics cÃ´tÃ© serveur pour performance
- Configure le monitoring avec mÃ©triques temps rÃ©el

---

## ğŸ¯ RÃ©sumÃ© et Ordre d'ExÃ©cution

### âœ… Ordre d'ExÃ©cution RecommandÃ©

1. **Phase Initialisation (Prompts 1-4)** : Fondations techniques et synchronisation Vendor Portal
2. **Phase FonctionnalitÃ©s Principales (Prompts 5-9)** : CÅ“ur fonctionnel du module
3. **Phase FonctionnalitÃ©s Secondaires (Prompts 10-12)** : Enrichissement de l'expÃ©rience
4. **Phase Ã‰volutions Futures (Prompts 13-15)** : Innovations et technologies avancÃ©es

### ğŸ”§ Points d'Attention SpÃ©cifiques

- **Synchronisation Vendor Portal** : IntÃ©gration bidirectionnelle critique pour fonctionnement
- **Performance Recherche** : Optimisation essentielle pour catalogue de nombreux prestataires
- **Messagerie Temps RÃ©el** : Communication fluide essentielle pour expÃ©rience utilisateur
- **IntÃ©grations Modules** : Coordination avec Budget et Planning pour cohÃ©rence globale

### ğŸš€ RÃ©sultat Final

Un module Choix des Prestataires complet offrant :
- Catalogue de prestataires avec recherche avancÃ©e et filtrage intelligent
- SystÃ¨me de demandes de devis avec synchronisation Vendor Portal
- Gestion complÃ¨te des devis avec comparaison et workflows d'approbation
- Messagerie temps rÃ©el bidirectionnelle avec prestataires
- IntÃ©grations robustes avec modules Budget et Planning
- Tableau de bord centralisÃ© pour suivi global
- Ã‰volutivitÃ© vers IA, marketplace et analytics avancÃ©s

**Le module Choix des Prestataires deviendra le pont essentiel entre clients et prestataires dans l'Ã©cosystÃ¨me Wedding Collection ! ğŸ‰**

