# Guide de Développement Séquentiel Windsurf - Public Site Wedding Collection

## 🎯 Vue d'Ensemble

Ce guide fournit une séquence complète de **22 prompts Windsurf** pour développer le **Public Site Wedding Collection** de A à Z. Chaque prompt est optimisé pour exploiter les capacités spécifiques de Windsurf (Cascade, Supercomplete, MCP) et s'intègre parfaitement avec l'écosystème ERP existant.

### 📋 Architecture Cible
```
apps/
├── backoffice/          # ✅ Développé
├── client-portal/       # ✅ Développé  
├── vendor-portal/       # ✅ Développé
└── public-site/         # 🎯 À développer avec ce guide
```

### 🔄 Intégrations Écosystème
- **Backoffice** : Source de données (lieux, contenu, configuration)
- **Client Portal** : Transition utilisateurs, synchronisation favoris
- **Vendor Portal** : Affichage prestataires, minisites
- **Supabase** : Base de données unifiée, authentification SSO

---

## 📚 Phase 1 : Fondations et Infrastructure (7 prompts)

### Prompt 1 : Configuration Application et Structure Monorepo

🎯 **But** : Créer l'application Public Site dans le monorepo existant avec la configuration Next.js optimisée pour SEO et performance.

🧠 **Contexte technique** : Intégration dans l'architecture monorepo Wedding Collection existante avec packages partagés et configuration Supabase.

🛠️ **Fichiers concernés** : 
- `apps/public-site/package.json`
- `apps/public-site/next.config.js`
- `apps/public-site/tailwind.config.js`
- `apps/public-site/tsconfig.json`

🔄 **Comportement attendu** :
- Application Next.js 14+ avec App Router configurée
- Intégration des packages partagés (`@wedding-collection/ui`, `@wedding-collection/config`, etc.)
- Configuration Tailwind CSS avec thème Wedding Collection
- Configuration TypeScript stricte avec chemins absolus
- Configuration ESLint et Prettier alignée sur l'écosystème
- Scripts de développement, build et déploiement

⚙️ **Interactions avec autres modules** :
- Utilisation des packages partagés du monorepo
- Configuration Supabase partagée
- Thème UI cohérent avec les autres applications

💡 **Tips Windsurf** :
- Utilise Cascade pour analyser la structure monorepo existante
- Exploite les templates Next.js via MCP pour une configuration optimale
- Configure immédiatement les variables d'environnement Supabase

---

### Prompt 2 : Intégration Supabase et Configuration Base

🎯 **But** : Configurer l'intégration Supabase complète avec authentification, client API et types TypeScript pour le Public Site.

🧠 **Contexte technique** : Utilisation de la base Supabase existante avec politiques RLS adaptées au contexte public et authentification SSO.

🛠️ **Fichiers concernés** :
- `apps/public-site/lib/supabase.ts`
- `apps/public-site/lib/auth.ts`
- `apps/public-site/types/database.ts`
- `apps/public-site/middleware.ts`

🔄 **Comportement attendu** :
- Client Supabase configuré pour SSR/SSG avec Next.js
- Authentification Supabase Auth avec gestion des sessions
- Types TypeScript générés automatiquement depuis la base
- Middleware pour protection des routes authentifiées
- Gestion des erreurs et retry automatique
- Configuration des politiques RLS pour accès public

⚙️ **Interactions avec autres modules** :
- Partage de la base Supabase avec Backoffice, Client Portal, Vendor Portal
- SSO unifié permettant transition fluide entre applications
- Respect des politiques RLS existantes

💡 **Tips Windsurf** :
- Utilise MCP Supabase pour générer automatiquement les types
- Configure les cookies sécurisés pour les sessions
- Implémente la gestion d'état avec React Context

---

### Prompt 3 : Layout Principal et Navigation Responsive

🎯 **But** : Créer le layout principal du Public Site avec header, footer et navigation responsive, intégrant les composants UI partagés.

🧠 **Contexte technique** : Interface publique nécessitant une navigation claire, un design premium et une expérience mobile optimale.

🛠️ **Fichiers concernés** :
- `apps/public-site/components/layout/Header.tsx`
- `apps/public-site/components/layout/Footer.tsx`
- `apps/public-site/components/layout/Navigation.tsx`
- `apps/public-site/app/layout.tsx`

🔄 **Comportement attendu** :
- Header avec logo Wedding Collection, navigation principale et CTA
- Navigation responsive avec menu mobile (hamburger)
- Footer avec liens utiles, mentions légales et réseaux sociaux
- Breadcrumb automatique basé sur la route
- Indicateur de chargement global
- Gestion des états d'authentification (connecté/non connecté)

⚙️ **Interactions avec autres modules** :
- Utilisation des composants UI partagés (@wedding-collection/ui)
- Liens vers Client Portal et Vendor Portal selon contexte
- Affichage conditionnel selon statut authentification

💡 **Tips Windsurf** :
- Utilise les composants shadcn/ui pour cohérence visuelle
- Implémente la navigation avec Next.js Link pour performance
- Configure les métadonnées SEO dans le layout racine

---

### Prompt 4 : Système d'Authentification et SSO

🎯 **But** : Implémenter le système d'authentification complet avec SSO Supabase, gestion des sessions et transition vers les autres applications.

🧠 **Contexte technique** : Authentification légère pour le Public Site avec possibilité de transition seamless vers Client Portal.

🛠️ **Fichiers concernés** :
- `apps/public-site/components/auth/AuthModal.tsx`
- `apps/public-site/components/auth/LoginForm.tsx`
- `apps/public-site/components/auth/RegisterForm.tsx`
- `apps/public-site/hooks/useAuth.ts`
- `apps/public-site/app/auth/callback/route.ts`

🔄 **Comportement attendu** :
- Modal d'authentification avec onglets connexion/inscription
- Formulaires avec validation Zod et gestion d'erreurs
- Authentification sociale (Google, Facebook) optionnelle
- Gestion des sessions avec refresh automatique
- Redirection contextuelle après authentification
- Logout avec nettoyage complet de l'état

⚙️ **Interactions avec autres modules** :
- SSO unifié avec Client Portal et Vendor Portal
- Synchronisation automatique des favoris après connexion
- Conservation de l'état de navigation lors de l'authentification

💡 **Tips Windsurf** :
- Utilise React Hook Form avec Zod pour validation robuste
- Implémente la persistance d'état avec localStorage
- Configure les redirections avec Next.js router

---

### Prompt 5 : Dashboard Principal et Widgets Vue d'Ensemble

🎯 **But** : Créer la page d'accueil avec hero section, widgets de mise en avant et aperçu de l'offre Wedding Collection.

🧠 **Contexte technique** : Page d'accueil optimisée pour conversion avec contenu dynamique et performance maximale.

🛠️ **Fichiers concernés** :
- `apps/public-site/app/page.tsx`
- `apps/public-site/components/home/HeroSection.tsx`
- `apps/public-site/components/home/FeaturedVenues.tsx`
- `apps/public-site/components/home/FeaturedProviders.tsx`
- `apps/public-site/components/home/Testimonials.tsx`

🔄 **Comportement attendu** :
- Hero section avec message principal et CTA proéminent
- Carrousel des lieux mis en avant avec images optimisées
- Section prestataires recommandés avec portfolios
- Témoignages clients avec notation et photos
- Statistiques clés (nombre de mariages, satisfaction, etc.)
- Appels à l'action stratégiquement placés

⚙️ **Interactions avec autres modules** :
- Données des lieux depuis le module Gestion des Lieux (Backoffice)
- Prestataires depuis le Vendor Portal
- Témoignages validés depuis le Backoffice

💡 **Tips Windsurf** :
- Utilise Next.js Image pour optimisation automatique
- Implémente le lazy loading pour performance
- Configure ISR pour contenu semi-dynamique

---

### Prompt 6 : Système de Notifications et Feedback Utilisateur

🎯 **But** : Implémenter un système de notifications toast, feedback utilisateur et gestion des états de chargement globaux.

🧠 **Contexte technique** : Expérience utilisateur fluide avec feedback visuel pour toutes les interactions et états de l'application.

🛠️ **Fichiers concernés** :
- `apps/public-site/components/ui/Toast.tsx`
- `apps/public-site/components/ui/LoadingSpinner.tsx`
- `apps/public-site/hooks/useToast.ts`
- `apps/public-site/contexts/NotificationContext.tsx`

🔄 **Comportement attendu** :
- Système de toast pour succès, erreurs et informations
- Indicateurs de chargement contextuels
- Gestion des états d'erreur avec retry automatique
- Feedback visuel pour actions utilisateur (favoris, formulaires)
- Notifications push pour utilisateurs connectés (optionnel)
- Gestion des erreurs réseau avec mode offline

⚙️ **Interactions avec autres modules** :
- Notifications unifiées avec les autres applications
- Gestion des erreurs API Supabase
- Feedback pour synchronisation favoris

💡 **Tips Windsurf** :
- Utilise React Context pour état global des notifications
- Implémente les animations avec Framer Motion
- Configure la persistance des notifications importantes

---

### Prompt 7 : Configuration SEO et Métadonnées Dynamiques

🎯 **But** : Configurer le système SEO complet avec métadonnées dynamiques, données structurées et optimisation pour moteurs de recherche.

🧠 **Contexte technique** : SEO critique pour la visibilité du Public Site avec génération automatique des métadonnées selon le contenu.

🛠️ **Fichiers concernés** :
- `apps/public-site/lib/seo.ts`
- `apps/public-site/components/seo/MetaTags.tsx`
- `apps/public-site/app/sitemap.ts`
- `apps/public-site/app/robots.ts`

🔄 **Comportement attendu** :
- Génération automatique des métadonnées (title, description, OG)
- Données structurées Schema.org pour lieux et événements
- Sitemap XML dynamique basé sur le contenu
- Robots.txt optimisé pour indexation
- Canonical URLs pour éviter contenu dupliqué
- Optimisation Core Web Vitals

⚙️ **Interactions avec autres modules** :
- Métadonnées basées sur données Backoffice
- URLs canoniques pour pages prestataires
- Intégration avec Google Analytics

💡 **Tips Windsurf** :
- Utilise Next.js Metadata API pour génération automatique
- Configure les données structurées avec JSON-LD
- Implémente la validation SEO avec des tests automatisés

---

## 🏢 Phase 2 : Modules Métier Principaux (6 prompts)

### Prompt 8 : Module Catalogue des Lieux - Interface et Recherche

🎯 **But** : Développer l'interface complète du catalogue des lieux avec recherche avancée, filtres multicritères et affichage optimisé.

🧠 **Contexte technique** : Cœur de l'offre Wedding Collection nécessitant performance, UX excellente et intégration avec données Backoffice.

🛠️ **Fichiers concernés** :
- `apps/public-site/app/lieux/page.tsx`
- `apps/public-site/components/venues/VenueGrid.tsx`
- `apps/public-site/components/venues/VenueCard.tsx`
- `apps/public-site/components/venues/VenueFilters.tsx`
- `apps/public-site/hooks/useVenueSearch.ts`

🔄 **Comportement attendu** :
- Grille responsive des lieux avec pagination intelligente
- Filtres avancés (région, capacité, style, prix, équipements)
- Recherche textuelle avec suggestions automatiques
- Tri par pertinence, prix, capacité, note
- Mode liste et mode carte avec géolocalisation
- Sauvegarde des filtres dans l'URL pour partage

⚙️ **Interactions avec autres modules** :
- Données synchronisées avec module Gestion des Lieux (Backoffice)
- Intégration avec système de favoris
- Liens vers formulaires de demande de devis

💡 **Tips Windsurf** :
- Utilise TanStack Query pour cache intelligent des recherches
- Implémente la virtualisation pour performance avec grandes listes
- Configure les filtres avec URL state pour SEO

---

### Prompt 9 : Module Catalogue des Lieux - Pages Détaillées

🎯 **But** : Créer les pages détaillées des lieux avec galeries photos/vidéos, informations complètes et outils de conversion.

🧠 **Contexte technique** : Pages de conversion critiques nécessitant contenu riche, performance optimale et expérience immersive.

🛠️ **Fichiers concernés** :
- `apps/public-site/app/lieux/[slug]/page.tsx`
- `apps/public-site/components/venues/VenueDetail.tsx`
- `apps/public-site/components/venues/VenueGallery.tsx`
- `apps/public-site/components/venues/VenueBookingForm.tsx`
- `apps/public-site/components/venues/VenueMap.tsx`

🔄 **Comportement attendu** :
- Galerie photos/vidéos avec lightbox et navigation tactile
- Informations détaillées (capacité, équipements, tarifs, disponibilités)
- Carte interactive avec localisation précise
- Formulaire de demande de devis intégré
- Bouton favoris avec animation
- Partage sur réseaux sociaux avec Open Graph

⚙️ **Interactions avec autres modules** :
- Données enrichies depuis Backoffice
- Formulaires transmis au CRM/Leads
- Synchronisation favoris avec Client Portal

💡 **Tips Windsurf** :
- Utilise Next.js generateStaticParams pour SSG
- Optimise les images avec formats WebP/AVIF
- Implémente le lazy loading pour galeries

---

### Prompt 10 : Module Gestion des Favoris et Personnalisation

🎯 **But** : Implémenter le système de favoris complet avec synchronisation temps réel et interface de gestion personnalisée.

🧠 **Contexte technique** : Fonctionnalité d'engagement utilisateur avec synchronisation entre Public Site et Client Portal.

🛠️ **Fichiers concernés** :
- `apps/public-site/components/favorites/FavoriteButton.tsx`
- `apps/public-site/components/favorites/FavoritesList.tsx`
- `apps/public-site/app/mes-favoris/page.tsx`
- `apps/public-site/hooks/useFavorites.ts`
- `apps/public-site/services/favoritesService.ts`

🔄 **Comportement attendu** :
- Bouton favoris avec animation et feedback visuel
- Page de gestion des favoris avec tri et filtres
- Synchronisation temps réel avec Supabase Realtime
- Partage de listes de favoris (URL publique)
- Export des favoris en PDF
- Recommandations basées sur les favoris

⚙️ **Interactions avec autres modules** :
- Synchronisation bidirectionnelle avec Client Portal
- Données des lieux depuis Backoffice
- Authentification requise pour persistance

💡 **Tips Windsurf** :
- Utilise Supabase Realtime pour synchronisation
- Implémente le cache local pour performance
- Configure les animations avec Framer Motion

---

### Prompt 11 : Module Formulaires de Contact et Demandes de Devis

🎯 **But** : Développer les formulaires de contact et demande de devis avec validation avancée et intégration CRM.

🧠 **Contexte technique** : Points de conversion critiques nécessitant UX optimale, validation robuste et intégration avec processus commercial.

🛠️ **Fichiers concernés** :
- `apps/public-site/components/forms/ContactForm.tsx`
- `apps/public-site/components/forms/QuoteRequestForm.tsx`
- `apps/public-site/app/contact/page.tsx`
- `apps/public-site/services/inquiryService.ts`
- `apps/public-site/lib/validation.ts`

🔄 **Comportement attendu** :
- Formulaires multi-étapes avec progression visuelle
- Validation en temps réel avec messages contextuels
- Upload de fichiers (brief, inspirations) avec preview
- Calcul automatique d'estimation budgétaire
- Confirmation par email avec récapitulatif
- Intégration calendrier pour prise de rendez-vous

⚙️ **Interactions avec autres modules** :
- Transmission des leads vers Backoffice (CRM)
- Notification automatique équipe commerciale
- Création automatique de dossier client

💡 **Tips Windsurf** :
- Utilise React Hook Form avec validation Zod
- Implémente l'upload avec Supabase Storage
- Configure SendGrid pour emails transactionnels

---

### Prompt 12 : Module Intégration Cartographique et Géolocalisation

🎯 **But** : Intégrer Google Maps avec fonctionnalités avancées de géolocalisation, recherche par proximité et visualisation interactive.

🧠 **Contexte technique** : Expérience géographique enrichie pour faciliter la découverte des lieux selon localisation utilisateur.

🛠️ **Fichiers concernés** :
- `apps/public-site/components/map/InteractiveMap.tsx`
- `apps/public-site/components/map/VenueMarker.tsx`
- `apps/public-site/hooks/useGeolocation.ts`
- `apps/public-site/services/mapService.ts`

🔄 **Comportement attendu** :
- Carte interactive avec marqueurs personnalisés des lieux
- Géolocalisation utilisateur avec recherche par proximité
- Clustering intelligent pour zones denses
- Popup détaillé au clic sur marqueur
- Calcul d'itinéraires vers les lieux
- Mode plein écran avec contrôles avancés

⚙️ **Interactions avec autres modules** :
- Données géographiques depuis module Lieux (Backoffice)
- Intégration avec filtres de recherche
- Liens vers pages détaillées des lieux

💡 **Tips Windsurf** :
- Utilise @googlemaps/react-wrapper pour intégration
- Implémente le lazy loading pour performance
- Configure les API keys avec variables d'environnement

---

### Prompt 13 : Module Blog et Contenu Éditorial

🎯 **But** : Créer le système de blog complet avec gestion de contenu, catégories et optimisation SEO pour contenu éditorial.

🧠 **Contexte technique** : Plateforme de contenu pour SEO, autorité de marque et engagement utilisateur avec gestion depuis Backoffice.

🛠️ **Fichiers concernés** :
- `apps/public-site/app/blog/page.tsx`
- `apps/public-site/app/blog/[slug]/page.tsx`
- `apps/public-site/components/blog/BlogCard.tsx`
- `apps/public-site/components/blog/BlogDetail.tsx`
- `apps/public-site/components/blog/BlogCategories.tsx`

🔄 **Comportement attendu** :
- Liste des articles avec pagination et filtres par catégorie
- Pages d'articles avec contenu riche (images, vidéos, galeries)
- Système de tags et catégories
- Partage sur réseaux sociaux avec métadonnées optimisées
- Articles similaires et recommandations
- Commentaires modérés (optionnel)

⚙️ **Interactions avec autres modules** :
- Contenu géré depuis Backoffice
- Intégration avec module Marketing pour analytics
- Liens contextuels vers lieux et prestataires

💡 **Tips Windsurf** :
- Utilise MDX pour contenu riche et interactif
- Configure ISR pour performance et fraîcheur
- Implémente la recherche full-text avec Supabase

---

## 🎨 Phase 3 : Fonctionnalités Avancées et Engagement (5 prompts)

### Prompt 14 : Module Prestataires et Minisites Intégrés

🎯 **But** : Intégrer l'affichage des prestataires avec leurs minisites depuis le Vendor Portal et système de recherche dédié.

🧠 **Contexte technique** : Vitrine des partenaires Wedding Collection avec contenu géré depuis Vendor Portal et expérience de découverte optimisée.

🛠️ **Fichiers concernés** :
- `apps/public-site/app/prestataires/page.tsx`
- `apps/public-site/app/prestataires/[slug]/page.tsx`
- `apps/public-site/components/providers/ProviderGrid.tsx`
- `apps/public-site/components/providers/ProviderMinisite.tsx`
- `apps/public-site/hooks/useProviderSearch.ts`

🔄 **Comportement attendu** :
- Catalogue prestataires avec filtres par catégorie et localisation
- Minisites prestataires avec portfolio et informations détaillées
- Système de notation et avis clients
- Formulaires de contact spécifiques par prestataire
- Galeries photos/vidéos des réalisations
- Intégration calendrier de disponibilités

⚙️ **Interactions avec autres modules** :
- Données synchronisées depuis Vendor Portal
- Formulaires transmis vers Backoffice et Vendor Portal
- Intégration avec système de favoris

💡 **Tips Windsurf** :
- Utilise la même structure de données que Vendor Portal
- Implémente le cache intelligent pour portfolios
- Configure les métadonnées SEO par prestataire

---

### Prompt 15 : Module Témoignages et Preuves Sociales

🎯 **But** : Développer le système de témoignages clients avec galeries de mariages, notes et validation sociale.

🧠 **Contexte technique** : Renforcement de la confiance et conversion avec contenu authentique validé depuis Backoffice.

🛠️ **Fichiers concernés** :
- `apps/public-site/components/testimonials/TestimonialCard.tsx`
- `apps/public-site/components/testimonials/TestimonialGallery.tsx`
- `apps/public-site/app/temoignages/page.tsx`
- `apps/public-site/components/testimonials/WeddingShowcase.tsx`

🔄 **Comportement attendu** :
- Carrousel de témoignages sur page d'accueil
- Page dédiée avec filtres par type d'événement et lieu
- Galeries photos des mariages avec témoignages associés
- Système de notation avec étoiles
- Partage de témoignages sur réseaux sociaux
- Formulaire de soumission pour nouveaux témoignages

⚙️ **Interactions avec autres modules** :
- Témoignages validés depuis Backoffice
- Liens vers lieux et prestataires mentionnés
- Intégration avec module Marketing pour analytics

💡 **Tips Windsurf** :
- Utilise des composants d'animation pour engagement
- Implémente le lazy loading pour galeries
- Configure la modération automatique avec IA

---

### Prompt 16 : Module Newsletter et Marketing Automation

🎯 **But** : Implémenter le système de newsletter avec segmentation, automation et intégration SendGrid pour nurturing des prospects.

🧠 **Contexte technique** : Outil de fidélisation et conversion avec automation marketing intégrée au module Marketing du Backoffice.

🛠️ **Fichiers concernés** :
- `apps/public-site/components/newsletter/NewsletterForm.tsx`
- `apps/public-site/components/newsletter/NewsletterPopup.tsx`
- `apps/public-site/services/newsletterService.ts`
- `apps/public-site/hooks/useNewsletter.ts`

🔄 **Comportement attendu** :
- Formulaires d'inscription avec validation et double opt-in
- Popup intelligente basée sur comportement utilisateur
- Segmentation automatique selon intérêts et actions
- Templates d'emails responsive avec contenu personnalisé
- Tracking d'ouverture et clics avec analytics
- Désabonnement en un clic conforme RGPD

⚙️ **Interactions avec autres modules** :
- Intégration avec module Marketing (Backoffice)
- Synchronisation avec SendGrid
- Analytics partagés avec Google Analytics

💡 **Tips Windsurf** :
- Utilise SendGrid API pour gestion avancée
- Implémente la segmentation avec Supabase
- Configure les triggers comportementaux

---

### Prompt 17 : Module Recherche Globale et Navigation Intelligente

🎯 **But** : Développer un système de recherche globale avancée avec suggestions intelligentes et navigation contextuelle.

🧠 **Contexte technique** : Amélioration de l'expérience utilisateur avec recherche unifiée sur tous les contenus du site.

🛠️ **Fichiers concernés** :
- `apps/public-site/components/search/GlobalSearch.tsx`
- `apps/public-site/components/search/SearchResults.tsx`
- `apps/public-site/components/search/SearchSuggestions.tsx`
- `apps/public-site/hooks/useGlobalSearch.ts`
- `apps/public-site/services/searchService.ts`

🔄 **Comportement attendu** :
- Barre de recherche globale avec autocomplétion
- Recherche unifiée (lieux, prestataires, blog, témoignages)
- Suggestions intelligentes basées sur historique
- Filtres contextuels selon type de résultat
- Sauvegarde des recherches pour utilisateurs connectés
- Analytics des recherches pour optimisation contenu

⚙️ **Interactions avec autres modules** :
- Index de recherche depuis toutes les sources de données
- Intégration avec système de favoris
- Analytics partagés avec Backoffice

💡 **Tips Windsurf** :
- Utilise Supabase Full-Text Search pour performance
- Implémente le debouncing pour optimisation
- Configure l'indexation automatique du contenu

---

### Prompt 18 : Module Analytics et Tracking Avancé

🎯 **But** : Implémenter le système d'analytics complet avec tracking comportemental, conversion et intégration Google Analytics.

🧠 **Contexte technique** : Mesure de performance et optimisation continue avec données partagées avec module Marketing du Backoffice.

🛠️ **Fichiers concernés** :
- `apps/public-site/lib/analytics.ts`
- `apps/public-site/components/analytics/TrackingProvider.tsx`
- `apps/public-site/hooks/useTracking.ts`
- `apps/public-site/services/analyticsService.ts`

🔄 **Comportement attendu** :
- Tracking automatique des pages vues et événements
- Mesure des conversions (formulaires, favoris, clics)
- Heatmaps et enregistrements de sessions (optionnel)
- Funnel d'acquisition et conversion
- A/B testing pour optimisation continue
- Tableaux de bord temps réel pour équipe marketing

⚙️ **Interactions avec autres modules** :
- Données partagées avec module Marketing (Backoffice)
- Intégration Google Analytics et Google Tag Manager
- Synchronisation avec CRM pour attribution complète

💡 **Tips Windsurf** :
- Utilise Google Analytics 4 avec événements personnalisés
- Implémente le consentement RGPD pour tracking
- Configure les goals et conversions automatiquement

---

## 🚀 Phase 4 : Optimisation et Écosystème (4 prompts)

### Prompt 19 : Optimisation Performance et Core Web Vitals

🎯 **But** : Optimiser les performances globales du site avec focus sur Core Web Vitals, SEO technique et expérience utilisateur.

🧠 **Contexte technique** : Performance critique pour SEO et conversion avec optimisations spécifiques Next.js et Supabase.

🛠️ **Fichiers concernés** :
- `apps/public-site/next.config.js` (optimisations)
- `apps/public-site/lib/performance.ts`
- `apps/public-site/components/ui/LazyImage.tsx`
- `apps/public-site/middleware.ts` (cache)

🔄 **Comportement attendu** :
- Optimisation automatique des images avec Next.js Image
- Code splitting et lazy loading intelligent
- Cache stratégique avec ISR et CDN
- Préchargement des ressources critiques
- Compression et minification optimales
- Monitoring continu des Core Web Vitals

⚙️ **Interactions avec autres modules** :
- Optimisation des requêtes Supabase
- Cache partagé pour données communes
- CDN configuré pour assets statiques

💡 **Tips Windsurf** :
- Utilise Next.js Bundle Analyzer pour optimisation
- Configure Vercel Analytics pour monitoring
- Implémente le prefetching intelligent des pages

---

### Prompt 20 : Intégrations Écosystème et API Externes

🎯 **But** : Finaliser les intégrations avec l'écosystème Wedding Collection et services externes (Google Maps, SendGrid, réseaux sociaux).

🧠 **Contexte technique** : Intégrations robustes avec gestion d'erreurs et fallbacks pour services externes.

🛠️ **Fichiers concernés** :
- `apps/public-site/lib/integrations.ts`
- `apps/public-site/services/externalServices.ts`
- `apps/public-site/components/integrations/SocialShare.tsx`
- `apps/public-site/hooks/useExternalServices.ts`

🔄 **Comportement attendu** :
- Intégration Google Maps avec fallback
- SendGrid pour emails transactionnels
- Partage réseaux sociaux avec Open Graph
- Intégration calendriers externes (Google Calendar)
- Webhooks pour synchronisation temps réel
- Gestion des erreurs et retry automatique

⚙️ **Interactions avec autres modules** :
- Synchronisation bidirectionnelle avec toutes les applications
- Webhooks partagés pour événements système
- API unifiées pour services externes

💡 **Tips Windsurf** :
- Utilise des services workers pour cache offline
- Implémente le circuit breaker pour services externes
- Configure les webhooks avec validation sécurisée

---

### Prompt 21 : Tests d'Intégration et Validation Écosystème

🎯 **But** : Implémenter la suite de tests complète (unitaires, intégration, E2E) avec focus sur les interactions écosystème.

🧠 **Contexte technique** : Validation de la qualité et robustesse avec tests automatisés couvrant tous les flux critiques.

🛠️ **Fichiers concernés** :
- `apps/public-site/tests/integration/ecosystem.test.ts`
- `apps/public-site/tests/e2e/user-journey.spec.ts`
- `apps/public-site/tests/unit/components.test.tsx`
- `apps/public-site/tests/performance/lighthouse.test.ts`

🔄 **Comportement attendu** :
- Tests unitaires pour tous les composants critiques
- Tests d'intégration pour flux inter-applications
- Tests E2E pour parcours utilisateur complets
- Tests de performance automatisés
- Tests d'accessibilité WCAG 2.1 AA
- Tests de sécurité et vulnérabilités

⚙️ **Interactions avec autres modules** :
- Tests de synchronisation avec Client Portal
- Validation des flux depuis/vers Backoffice
- Tests d'intégration Vendor Portal

💡 **Tips Windsurf** :
- Utilise Playwright pour tests E2E robustes
- Configure les tests en parallèle pour performance
- Implémente les tests visuels avec Percy

---

### Prompt 22 : Déploiement Production et Monitoring

🎯 **But** : Configurer le déploiement production avec monitoring, alertes et processus de maintenance pour le Public Site.

🧠 **Contexte technique** : Mise en production sécurisée avec monitoring proactif et processus de maintenance automatisés.

🛠️ **Fichiers concernés** :
- `.github/workflows/deploy-public-site.yml`
- `apps/public-site/monitoring/health-check.ts`
- `apps/public-site/scripts/deployment.sh`
- `vercel.json` (configuration production)

🔄 **Comportement attendu** :
- Pipeline CI/CD avec tests automatisés
- Déploiement blue-green pour zéro downtime
- Monitoring proactif avec alertes
- Health checks automatiques
- Rollback automatique en cas d'erreur
- Documentation de maintenance

⚙️ **Interactions avec autres modules** :
- Déploiement coordonné avec autres applications
- Monitoring unifié de l'écosystème
- Alertes partagées pour incidents critiques

💡 **Tips Windsurf** :
- Utilise Vercel pour déploiement optimisé
- Configure Sentry pour monitoring d'erreurs
- Implémente les feature flags pour déploiements progressifs

---

## 🎯 Résumé et Prochaines Étapes

### ✅ Livrables Finaux
Après exécution de ces 22 prompts, vous disposerez d'un **Public Site Wedding Collection** complet avec :

- **Infrastructure solide** : Next.js optimisé, Supabase intégré, SEO configuré
- **Vitrine commerciale** : Catalogue lieux, prestataires, formulaires conversion
- **Contenu engageant** : Blog, témoignages, newsletter, recherche globale
- **Écosystème intégré** : Synchronisation parfaite avec Backoffice, Client Portal, Vendor Portal
- **Performance optimale** : Core Web Vitals excellents, expérience utilisateur premium
- **Qualité assurée** : Tests complets, monitoring proactif, déploiement sécurisé

### 🚀 Ordre d'Exécution Recommandé
1. **Exécuter les prompts dans l'ordre strict** (1 à 22)
2. **Valider chaque phase** avant de passer à la suivante
3. **Tester l'intégration** avec les autres applications à chaque étape
4. **Optimiser progressivement** selon les retours et métriques

### 🎯 Résultat Final
Un **Public Site Wedding Collection** qui :
- Génère des leads qualifiés efficacement
- Valorise parfaitement l'image de marque premium
- S'intègre harmonieusement dans l'écosystème ERP
- Offre une expérience utilisateur exceptionnelle
- Garantit des performances et un SEO optimaux

**L'écosystème ERP Wedding Collection est maintenant complet et prêt pour le succès commercial ! 🎉**

